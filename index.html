<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="naver-site-verification" content="5f12187fe023b8cfc326daf4d484946eaf965074" />
    <meta name="description" content="내란범죄자들을 끝까지 추적하겠습니다." />
    <meta
      name="keywords"
      content="내란, 내란음모, 내란선동, 계엄령, 윤석열, 김건희, 한동훈, 추경호, 이상민, 내란의힘, 군부, 경찰, 대통령실"
    />
    <meta name="author" content="내란범죄혐의자 명단" />
    <meta property="og:title" content="내란범죄혐의자 명단" />
    <meta property="og:description" content="내란범죄자들을 끝까지 추적하겠습니다." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://www.criminalyoon.com" />
    <meta property="og:image" content="https://www.criminalyoon.com/assets/images/wanted.png" />
    <meta name="robots" content="index, follow" />
    <meta name="googlebot" content="index, follow" />
    <meta name="naverbot" content="index, follow" />
    <meta name="title" content="내란범죄혐의자 명단" />
    <title>내란범죄혐의자 명단</title>
    <link rel="stylesheet" href="assets/css/index.css" />
  </head>
  <body>
    <div class="container">
      <h1>내란범죄혐의자 명단</h1>

      <!-- 필터 버튼 -->
      <div class="filters">
        <button
          onclick="document.getElementById('군부-section').scrollIntoView({ behavior: 'smooth' })"
          class="filter-btn"
          data-section="군부"
        >
          군부
        </button>
        <button
          onclick="document.getElementById('경찰-section').scrollIntoView({ behavior: 'smooth' })"
          class="filter-btn"
          data-section="경찰"
        >
          경찰
        </button>
        <button
          onclick="document.getElementById('대통령실-section').scrollIntoView({ behavior: 'smooth' })"
          class="filter-btn"
          data-section="대통령실"
        >
          대통령실
        </button>
        <button
          onclick="document.getElementById('내란의힘-section').scrollIntoView({ behavior: 'smooth' })"
          class="filter-btn"
          data-section="내란의힘"
        >
          내란의힘
        </button>
        <button
          onclick="document.getElementById('기타·극우미디어-section').scrollIntoView({ behavior: 'smooth' })"
          class="filter-btn"
          data-section="기타·극우미디어"
        >
          기타·극우미디어
        </button>
      </div>

      <!-- 내란수괴 섹션 -->
      <div class="section" id="내란수괴-section">
        <div class="section-header">
          <h2>내란수괴</h2>
        </div>
        <div class="people-container" id="내란수괴-container"></div>
      </div>

      <!-- 군부 섹션 -->
      <div class="section" id="군부-section">
        <div class="section-header">
          <div class="logo-container section-logo"></div>
          <h2 class="section-title">군부</h2>
        </div>
        <div class="people-container" id="군부-container"></div>
      </div>

      <!-- 경찰 섹션 -->
      <div class="section" id="경찰-section">
        <div class="section-header">
          <div class="logo-container section-logo"></div>
          <h2 class="section-title">경찰</h2>
        </div>
        <div class="people-container" id="경찰-container"></div>
      </div>

      <!-- 대통령실 섹션 -->
      <div class="section" id="대통령실-section">
        <div class="section-header">
          <div class="logo-container section-logo"></div>
          <h2 class="section-title" style="margin-top: 10px">대통령실</h2>
        </div>
        <div class="people-container" id="대통령실-container"></div>
      </div>

      <!-- 내란의힘 섹션 -->
      <div class="section" id="내란의힘-section">
        <div class="section-header">
          <div class="logo-container section-logo"></div>
          <h2 class="section-title">내란의힘</h2>
        </div>
        <div class="people-container" id="내란의힘-container"></div>
      </div>

      <!-- 기타·극우미디어 섹션 -->
      <div class="section" id="기타·극우미디어-section">
        <div class="section-header">
          <div class="logo-container section-logo"></div>
          <h2 class="section-title">기타·극우미디어</h2>
        </div>
        <div class="people-container" id="기타·극우미디어-container"></div>
      </div>
    </div>

    <!-- 하단 컨트롤 -->
    <div class="bottom-controls">
      <div class="search-container">
        <div class="search-results"></div>
        <input type="text" id="searchInput" placeholder="이름 또는 행적 검색..." />
      </div>
      <button class="scroll-top-btn" title="맨 위로 이동"></button>
    </div>

    <!-- 모달 창 -->
    <div id="personModal" class="modal">
      <div class="modal-content">
        <span class="modal-close">&times;</span>
        <div class="loading-overlay">
          <div class="loading-spinner"></div>
          <span>로딩 중...</span>
        </div>
        <div class="modal-header">
          <img id="modalImage" src="" alt="" />
          <div class="modal-header-info">
            <h2 id="modalName"></h2>
            <p id="modalRole1"></p>
            <p id="modalRole2"></p>
          </div>
        </div>
        <div class="modal-body">
          <div class="modal-actions">
            <div id="modalActionsView"></div>
            <textarea id="modalActions" placeholder="이 사람의 행적을 입력하세요..." style="display: none"></textarea>
          </div>
        </div>
        <div class="modal-footer">
          <div
            class="admin-buttons"
            style="margin-top: 20px; display: flex; justify-content: space-between; align-items: center"
          >
            <div class="left-buttons" style="display: flex; gap: 10px">
              <button id="adminManageBtn" class="admin-btn" style="display: none">관리자 관리</button>
              <button id="logoutBtn" class="admin-btn" style="display: none; background-color: #666">로그아웃</button>
            </div>
            <div class="right-buttons">
              <button id="saveBtn" class="save-btn" style="display: none">저장</button>
              <button id="adminLoginBtn" class="admin-btn">관리자 로그인</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- 관리자 로그인 모달 -->
    <div id="adminModal" class="modal">
      <div class="modal-content" style="max-width: 400px">
        <span class="modal-close" onclick="closeAdminLoginModal()">&times;</span>
        <div class="modal-header">
          <h2>관리자 로그인</h2>
        </div>
        <div class="modal-body">
          <input
            type="email"
            id="adminEmail"
            placeholder="이메일"
            style="width: 100%; padding: 10px; margin: 10px 0"
            required
          />
          <input
            type="password"
            id="adminPassword"
            placeholder="비밀번호"
            style="width: 100%; padding: 10px; margin: 10px 0"
            required
          />
          <button id="adminLoginSubmit" style="width: 100%; padding: 10px; margin: 10px 0">로그인</button>
          <div style="text-align: center; margin-top: 10px">
            <a href="#" onclick="showSignupModal()" style="color: #666; text-decoration: underline">관리자 등록 신청</a>
          </div>
        </div>
      </div>
    </div>

    <!-- 관리자 등록 신청 모달 -->
    <div id="signupModal" class="modal">
      <div class="modal-content" style="max-width: 400px">
        <span class="modal-close" onclick="closeSignupModal()">&times;</span>
        <div class="modal-header">
          <h2>관리자 등록 신청</h2>
        </div>
        <div class="modal-body">
          <input
            type="email"
            id="signupEmail"
            placeholder="이메일"
            style="width: 100%; padding: 10px; margin: 10px 0"
            required
          />
          <input
            type="password"
            id="signupPassword"
            placeholder="비밀번호"
            style="width: 100%; padding: 10px; margin: 10px 0"
            required
          />
          <input
            type="password"
            id="signupPasswordConfirm"
            placeholder="비밀번호 확인"
            style="width: 100%; padding: 10px; margin: 10px 0"
            required
          />
          <input
            type="text"
            id="signupNickname"
            placeholder="닉네임"
            style="width: 100%; padding: 10px; margin: 10px 0"
            required
          />
          <div style="text-align: center; margin-top: 10px">
            <button onclick="requestAdminSignup()" style="padding: 12px 35px; font-size: 15px">신청하기</button>
          </div>
        </div>
      </div>
    </div>

    <!-- 관리자 승인 관리 모달 -->
    <div id="adminManageModal" class="modal">
      <div class="modal-content" style="max-width: 600px">
        <span class="modal-close" onclick="closeAdminManageModal()">&times;</span>
        <div class="modal-header">
          <h2>관리자 승인 관리</h2>
        </div>
        <div class="modal-body">
          <div class="tab">
            <button class="tablinks active" onclick="openTab(event, 'pendingAdmins')">승인 대기 중</button>
            <button class="tablinks" onclick="openTab(event, 'approvedAdmins')">승인된 관리자</button>
          </div>

          <div id="pendingAdmins" class="tabcontent" style="display: block">
            <div id="pendingList" class="admin-list">
              <h3>승인 대기 중인 요청</h3>
              <!-- 여기에 승인 대기 중인 요청들이 동적으로 추가됩니다 -->
            </div>
          </div>

          <div id="approvedAdmins" class="tabcontent" style="display: none">
            <div id="approvedList" class="admin-list">
              <h3>승인된 관리자</h3>
              <!-- 여기에 승인된 관리자들이 동적으로 추가됩니다 -->
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- 공지사항 모달 -->
    <div id="noticeModal" class="notice-modal">
      <div class="notice-content">
        <h2 class="notice-title">공지사항</h2>
        <div class="notice-text">
          <div class="notice-poster">
            <img
              src="/assets/images/wanted.jpg"
              alt="wanted 내란수괴 윤석열, 대통령 경호처장 박종준, 대통령 경호차장 김성훈"
            />
          </div>
          <ol class="notice-list">
            <li>백엔드 개발자분들을 찾고 있습니다. 연락 부탁드립니다.</li>
            <li>인물들의 행적을 함께 조사해주실 국민여러분들을 찾습니다.</li>
          </ol>
          <p>
            🌟<a href="mailto:criminalyoon@gmail.com" style="color: #0066cc; text-decoration: underline"
              >criminalyoon@gmail.com</a
            >🌟 <br />
            🌟<a href="https://open.kakao.com/o/g6m4OK6g" style="color: #0066cc; text-decoration: underline"
              >https://open.kakao.com/o/g6m4OK6g</a
            >🌟
          </p>
        </div>
        <button class="notice-close" onclick="closeNotice()">확인</button>
      </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

    <script>
      // Firebase 구성
      const firebaseConfig = {
        apiKey: 'AIzaSyCMN4o3bjh2tOLBs0VX4amemvthvGsWXS4',
        authDomain: 'criminal-list.firebaseapp.com',
        projectId: 'criminal-list',
        storageBucket: 'criminal-list.appspot.com',
        messagingSenderId: '696329370561',
        appId: '1:696329370561:web:265d119f1d0b3199c6cd40',
        measurementId: 'G-YVGDF0WFBQ',
        databaseURL: 'https://criminal-list-default-rtdb.asia-southeast1.firebasedatabase.app',
      };

      // Firebase 초기화
      firebase.initializeApp(firebaseConfig);
      const db = firebase.database();
      const auth = firebase.auth();
      const firestore = firebase.firestore();

      // 연결 상태 관리 설정
      const connectedRef = db.ref('.info/connected');
      const deviceId = localStorage.getItem('deviceId') || 'device_' + Math.random().toString(36).substring(2);
      localStorage.setItem('deviceId', deviceId);

      connectedRef.on('value', (snap) => {
        if (snap.val() === true) {
          console.log('Firebase에 연결되었습니다.');
          const connectionsRef = db.ref('connections/' + deviceId);
          const con = connectionsRef.push(true);
          con.onDisconnect().remove();
        }
      });

      // 전역 변수로 Firebase 함수들 설정
      window.firebaseDB = {
        // 행적 저장
        saveActions: async (name, actions, group) => {
          try {
            const personRef = db.ref('actions/' + name);
            await personRef.set({
              text: actions,
              group: group,
              timestamp: Date.now(),
              deviceId: deviceId,
            });
            console.log('Actions saved successfully for:', name);
            return true;
          } catch (error) {
            console.error('Error saving actions:', error);
            return false;
          }
        },

        // 행적 불러오기
        loadAllActions: (callback) => {
          const actionsRef = db.ref('actions');
          actionsRef.on(
            'value',
            (snapshot) => {
              const data = snapshot.val() || {};
              console.log('Loaded actions:', data);
              callback(data);
            },
            (error) => {
              console.error('Error loading actions:', error);
              callback({});
            }
          );
        },
      };

      // 기존 함수를 Firebase 버전으로 대체
      window.loadActionsData = async (personName) => {
        try {
          if (personName) {
            // 특정 인물의 데이터만 불러오기
            const snapshot = await db.ref(`actions/${personName}`).once('value');
            const data = snapshot.val() || {};
            console.log(`데이터 로드 (${personName}):`, data); // 디버깅 로그
            return { [personName]: data };
          }
          return {};
        } catch (error) {
          console.error('데이터 로딩 에러:', error);
          return {};
        }
      };
    </script>

    <script>
      const people = [
        // 내란수괴
        { name: '윤석열', role1: '내란수괴1', role2: '대통령', group: '내란수괴', row: 1, position: 'center' },
        {
          name: '김건희',
          role1: '대한민국 최고존엄',
          role2: '시대의사기꾼',
          group: '내란수괴',
          row: 1,
          position: 'right',
        },

        // 군 관계자
        { name: '김용현', role1: '내란수괴2', role2: '국방부장관', group: '군부', row: 1 },
        { name: '노상원', role1: '내란수괴3', role2: '성범죄자,전 정보사령관', group: '군부', row: 2 },
        { name: '여인형', role1: '내란수괴4', role2: '방첩사령관', group: '군부', row: 2 },
        { name: '박안수', role1: '내란주동자', role2: '계엄사령관', group: '군부', row: 3 },
        { name: '정진팔', role1: '내란주동자', role2: '계엄부사령관', group: '군부', row: 3 },
        { name: '문상호', role1: '내란주동자', role2: '정보사령관', group: '군부', row: 3 },
        { name: '이진우', role1: '내란주동자', role2: '수방사령관', group: '군부', row: 3 },
        { name: '구삼회', role1: '내란주동자', role2: '제2기갑여단장', group: '군부', row: 3 },
        { name: '방정환', role1: '내란주동자', role2: '국방부정책기획차장', group: '군부', row: 3 },
        { name: '김용군', role1: '내란주동자', role2: '전국방부수사단장', group: '군부', row: 3 },
        { name: '곽종근', role1: '내란주동자(?)', role2: '특전사령관', group: '군부', row: 3 },

        { name: '김대우', role1: '내란주동자', role2: '방첩사수사단장', group: '군부', row: 4 },
        { name: '이경민', role1: '내란가담자', role2: '방첩사참모장', group: '군부', row: 4 },
        { name: '안무성', role1: '내란가담자', role2: '제9공수여단장', group: '군부', row: 4 },
        { name: '박성하', role1: '내란가담자', role2: '방첩사기획관리실장', group: '군부', row: 4 },
        { name: '나승민', role1: '내란가담자', role2: '방첩사신원보안실장', group: '군부', row: 4 },
        { name: '김철진', role1: '내란가담자', role2: '국방부군사보좌관', group: '군부', row: 4 },
        { name: '이상현', role1: '내란가담자', role2: '제1공수특전여단장', group: '군부', row: 4 },
        { name: '김정근', role1: '내란가담자', role2: '제3공수특전여단장', group: '군부', row: 4 },
        { name: '조종래', role1: '내란가담자', role2: '육군정보참모부장', group: '군부', row: 4 },
        { name: '박종선', role1: '내란가담자(?)', role2: '777사령관', group: '군부', row: 4 },
        { name: '김봉규', role1: '내란가담자', role2: '정보사대령', group: '군부', row: 4 },
        { name: '정성욱', role1: '내란가담자', role2: '정보사대령', group: '군부', row: 4 },
        { name: '고동희', role1: '내란가담자', role2: '정보사대령', group: '군부', row: 4 },
        { name: '김용대', role1: '내란가담자', role2: '드론사령관', group: '군부', row: 4 },

        { name: '김현태', role1: '내란가담자(?)', role2: '707특임단장', group: '군부', row: 5 },
        { name: '김세운', role1: '부화내동자', role2: '작전항공단장', group: '군부', row: 5 },
        { name: '정성우', role1: '부화내동자', role2: '방첩사1처장', group: '군부', row: 5 },

        // 경찰
        { name: '목현태', role1: '내란주동자', role2: '국회경비대장', group: '경찰', row: 1 },
        { name: '김봉식', role1: '내란주동자', role2: '서울경찰청장', group: '경찰', row: 1 },
        { name: '조지호', role1: '내란주동자', role2: '경찰청장', group: '경찰', row: 1 },
        { name: '강상문', role1: '내란주동자', role2: '영등포서장', group: '경찰', row: 1 },
        { name: '최창복', role1: '내란주동자', role2: '서울경비안전계장', group: '경찰', row: 1 },
        { name: '김준영', role1: '내란가담자', role2: '경기남부청장', group: '경찰', row: 2 },
        { name: '문진영', role1: '내란가담자', role2: '과천서장', group: '경찰', row: 2 },
        { name: '최영기', role1: '시위방해자', role2: '방배서장', group: '경찰', row: 3 },

        // 대통령실
        // 1열: 핵심 인물
        { name: '한덕수', role1: '내란주동자', role2: '국무총리', group: '대통령실', row: 1 },
        { name: '최상목', role1: '내란주동자', role2: '경제부총리', group: '대통령실', row: 1 },
        { name: '이상민', role1: '내란주동자', role2: '행안부장관', group: '대통령실', row: 1 },
        { name: '박성재', role1: '내란동조자', role2: '법무부장관', group: '대통령실', row: 1 },
        { name: '이완규', role1: '내란동조자', role2: '법제처장', group: '대통령실', row: 1 },
        { name: '김주현', role1: '내란동조자', role2: '민정수석', group: '대통령실', row: 1 },

        // 2열: 기타 인물
        { name: '박종준', role1: '내란주동자', role2: '경호처장', group: '대통령실', row: 2 },
        { name: '김성훈', role1: '내란주동자', role2: '경호차장', group: '대통령실', row: 2 },
        { name: '조태용', role1: '내란주동자', role2: '국정원장', group: '대통령실', row: 2 },
        { name: '인성환', role1: '내란동조자', role2: '안보실2차장', group: '대통령실', row: 2 },
        { name: '최병옥', role1: '내란동조자', role2: '국방비서관', group: '대통령실', row: 2 },
        { name: '정진석', role1: '내란동조자', role2: '비서실장', group: '대통령실', row: 2 },
        { name: '김문수', role1: '내란동조자', role2: '고용노동부장관', group: '대통령실', row: 2 },
        { name: '김태규', role1: '내란동조자', role2: '방통위부위원장', group: '대통령실', row: 2 },
        { name: '유창호', role1: '내란동조자', role2: '외교부부대변인', group: '대통령실', row: 2 },

        // 3열: 국무위원
        { name: '윤재순', role1: '내란선전선동자', role2: '총무비서관', group: '대통령실', row: 2 },
        { name: '송미령', role1: '내란방조자', role2: '농림축산식품부장관', group: '대통령실', row: 2 },
        { name: '조규홍', role1: '내란방조자', role2: '보건복지부장관', group: '대통령실', row: 2 },
        { name: '오영주', role1: '내란방조자', role2: '중기부장관', group: '대통령실', row: 2 },
        { name: '김영호', role1: '내란방조자', role2: '통일부장관', group: '대통령실', row: 2 },
        { name: '조태열', role1: '내란방조자', role2: '외교부장관', group: '대통령실', row: 2 },
        { name: '유인촌', role1: '내란선전선동자', role2: '문교부장관', group: '대통령실', row: 2 },

        // 내란의힘

        { name: '추경호', role1: '내란주동자', role2: '대구 달성군', group: '내란의힘', row: 1 },
        { name: '권영세', role1: '내란동조자', role2: '서울 용산구', group: '내란의힘', row: 1 },
        { name: '권성동', role1: '내란동조자', role2: '강원 강릉시', group: '내란의힘', row: 1 },
        { name: '김석기', role1: '내란동조자', role2: '경북 경주시', group: '내란의힘', row: 1 },
        { name: '나경원', role1: '내란동조자', role2: '서울 동작구', group: '내란의힘', row: 1 },
        { name: '유상범', role1: '내란동조자', role2: '강원 홍천시횡성군영월군평창군', group: '내란의힘', row: 1 },
        { name: '유영하', role1: '내란동조자', role2: '대구 달서구갑', group: '내란의힘', row: 1 },
        { name: '윤상현', role1: '내란동조자', role2: '인천 동구미추홀구을', group: '내란의힘', row: 1 },
        { name: '윤한홍', role1: '내란동조자', role2: '경남 창원시마산회원구', group: '내란의힘', row: 1 },
        { name: '최형두', role1: '내란동조자', role2: '경남 창원시마산회원구', group: '내란의힘', row: 1 },
        { name: '강대식', role1: '내란동조자', role2: '대구 동구군위군을', group: '내란의힘', row: 1 },
        { name: '강명구', role1: '내란동조자', role2: '경북 구미시을', group: '내란의힘', row: 1 },
        { name: '강민국', role1: '내란동조자', role2: '경남 진주시을', group: '내란의힘', row: 1 },
        { name: '강선영', role1: '내란동조자', role2: '비례대표', group: '내란의힘', row: 1 },
        { name: '강승규', role1: '내란동조자', role2: '충남 홍성군예산군', group: '내란의힘', row: 1 },
        { name: '고동진', role1: '내란동조자', role2: '서울 강남구병', group: '내란의힘', row: 1 },
        { name: '구자근', role1: '내란동조자', role2: '경북 구미시갑', group: '내란의힘', row: 1 },
        { name: '권영진', role1: '내란동조자', role2: '대구 달서구병', group: '내란의힘', row: 1 },
        { name: '김건', role1: '내란동조자', role2: '비례대표', group: '내란의힘', row: 1 },
        { name: '김기웅', role1: '내란동조자', role2: '대구 중구남구', group: '내란의힘', row: 1 },
        { name: '김기현', role1: '내란동조자', role2: '울산 남구을', group: '내란의힘', row: 1 },
        { name: '김대식', role1: '내란동조자', role2: '부산 사상구', group: '내란의힘', row: 1 },
        { name: '김도읍', role1: '내란동조자', role2: '부산 강서구', group: '내란의힘', row: 1 },
        { name: '김미애', role1: '내란동조자', role2: '부산 해운대구을', group: '내란의힘', row: 1 },
        { name: '김민전', role1: '내란동조자', role2: '비례대표', group: '내란의힘', row: 1 },
        { name: '김상훈', role1: '내란동조자', role2: '대구 서구', group: '내란의힘', row: 1 },
        { name: '김선교', role1: '내란동조자', role2: '경기 여주시양평군', group: '내란의힘', row: 1 },
        { name: '김소희', role1: '내란동조자', role2: '비례대표', group: '내란의힘', row: 1 },
        { name: '김승수', role1: '내란동조자', role2: '대구 북구을', group: '내란의힘', row: 1 },
        { name: '김위상', role1: '내란동조자', role2: '비례대표', group: '내란의힘', row: 1 },
        { name: '김은혜', role1: '내란동조자', role2: '경기 성남시분당구을', group: '내란의힘', row: 1 },
        { name: '김장겸', role1: '내란동조자', role2: '비례대표', group: '내란의힘', row: 1 },
        { name: '김정재', role1: '내란동조자', role2: '경북 포항시북구', group: '내란의힘', row: 1 },
        { name: '김종양', role1: '내란동조자', role2: '경남 창원시의창구', group: '내란의힘', row: 1 },
        { name: '김태호', role1: '내란동조자', role2: '경남 양산시을', group: '내란의힘', row: 1 },
        { name: '김희정', role1: '내란동조자', role2: '부산 연제구', group: '내란의힘', row: 1 },
        { name: '박대출', role1: '내란동조자', role2: '경남 진주시갑', group: '내란의힘', row: 1 },
        { name: '박덕흠', role1: '내란동조자', role2: '충남 보령시서천군', group: '내란의힘', row: 1 },
        { name: '박상웅', role1: '내란동조자', role2: '경남 밀양시의령군함안군창녕군', group: '내란의힘', row: 1 },
        { name: '박성민', role1: '내란동조자', role2: '울산 중구', group: '내란의힘', row: 1 },
        { name: '박성훈', role1: '내란동조자', role2: '부산 북구을', group: '내란의힘', row: 1 },
        { name: '박수영', role1: '내란동조자', role2: '부산 남구', group: '내란의힘', row: 1 },
        { name: '박준태', role1: '내란동조자', role2: '비례대표', group: '내란의힘', row: 1 },
        { name: '박충권', role1: '내란동조자', role2: '비례대표', group: '내란의힘', row: 1 },
        { name: '박형수', role1: '내란동조자', role2: '경북 의성군청송군영덕군울진군', group: '내란의힘', row: 1 },
        { name: '배준영', role1: '내란동조자', role2: '인천 중구강화군옹진군', group: '내란의힘', row: 1 },
        { name: '배현진', role1: '내란동조자', role2: '서울 송파구을', group: '내란의힘', row: 1 },
        { name: '백종헌', role1: '내란동조자', role2: '부산 금정구', group: '내란의힘', row: 1 },
        { name: '서명옥', role1: '내란동조자', role2: '서울 강남구갑', group: '내란의힘', row: 1 },
        { name: '서일준', role1: '내란동조자', role2: '경남 거제시', group: '내란의힘', row: 1 },
        { name: '서지영', role1: '내란동조자', role2: '부산 동래구', group: '내란의힘', row: 1 },
        { name: '서천호', role1: '내란동조자', role2: '경남 사천시남해군하동군', group: '내란의힘', row: 1 },
        { name: '성일종', role1: '내란동조자', role2: '충남 서산시태안군', group: '내란의힘', row: 1 },
        { name: '송석준', role1: '내란동조자', role2: '경기 이천시', group: '내란의힘', row: 1 },
        { name: '송언석', role1: '내란동조자', role2: '경북 김천시', group: '내란의힘', row: 1 },
        { name: '신동욱', role1: '내란동조자', role2: '서울 서초구을', group: '내란의힘', row: 1 },
        { name: '안상훈', role1: '내란동조자', role2: '비례대표', group: '내란의힘', row: 1 },
        { name: '엄태영', role1: '내란동조자', role2: '충북 제천시단양군', group: '내란의힘', row: 1 },
        { name: '유용원', role1: '내란동조자', role2: '비례대표', group: '내란의힘', row: 1 },
        { name: '윤영석', role1: '내란동조자', role2: '경남 양산시갑', group: '내란의힘', row: 1 },
        { name: '윤재옥', role1: '내란동조자', role2: '대구 달서구을', group: '내란의힘', row: 1 },
        { name: '이달희', role1: '내란동조자', role2: '비례대표', group: '내란의힘', row: 1 },
        { name: '이만희', role1: '내란동조자', role2: '경북 영천시예천군', group: '내란의힘', row: 1 },
        { name: '이상휘', role1: '내란동조자', role2: '경북 포항시남구울릉군', group: '내란의힘', row: 1 },
        { name: '이성권', role1: '내란동조자', role2: '부산 사하구갑', group: '내란의힘', row: 1 },
        { name: '이양수', role1: '내란동조자', role2: '강원 속초시인제군고성군양양군', group: '내란의힘', row: 1 },
        { name: '이인선', role1: '내란동조자', role2: '대구 수성구을', group: '내란의힘', row: 1 },
        { name: '이종배', role1: '내란동조자', role2: '충북 충주시', group: '내란의힘', row: 1 },
        { name: '이종욱', role1: '내란동조자', role2: '경남 창원시진해구', group: '내란의힘', row: 1 },
        { name: '이철규', role1: '내란동조자', role2: '강원 동해시태백시삼척시정선군', group: '내란의힘', row: 1 },
        { name: '이헌승', role1: '내란동조자', role2: '부산 부산진구을', group: '내란의힘', row: 1 },
        { name: '인요한', role1: '내란동조자', role2: '비례대표', group: '내란의힘', row: 1 },
        { name: '임이자', role1: '내란동조자', role2: '경북 상주시문경시', group: '내란의힘', row: 1 },
        { name: '임종득', role1: '내란동조자', role2: '경북 영주시영양군봉화군', group: '내란의힘', row: 1 },
        { name: '정동만', role1: '내란동조자', role2: '부산 기장군', group: '내란의힘', row: 1 },
        { name: '정점식', role1: '내란동조자', role2: '경남 통영시고성군', group: '내란의힘', row: 1 },
        { name: '정희용', role1: '내란동조자', role2: '경북 고령군성주군칠곡군', group: '내란의힘', row: 1 },
        { name: '조배숙', role1: '내란동조자', role2: '비례대표', group: '내란의힘', row: 1 },
        { name: '조승환', role1: '내란동조자', role2: '부산 중구영도구', group: '내란의힘', row: 1 },
        { name: '조은희', role1: '내란동조자', role2: '서울 서초구갑', group: '내란의힘', row: 1 },
        { name: '조정훈', role1: '내란동조자', role2: '서울 마포구갑', group: '내란의힘', row: 1 },
        { name: '조지연', role1: '내란동조자', role2: '경북 경산시', group: '내란의힘', row: 1 },
        { name: '주호영', role1: '내란동조자', role2: '대구 수성구갑', group: '내란의힘', row: 1 },
        { name: '진종오', role1: '내란동조자', role2: '비례대표', group: '내란의힘', row: 1 },
        { name: '최보윤', role1: '내란동조자', role2: '비례대표', group: '내란의힘', row: 1 },
        { name: '최수진', role1: '내란동조자', role2: '비례대표', group: '내란의힘', row: 1 },
        { name: '최은석', role1: '내란동조자', role2: '대구 동구군위군갑', group: '내란의힘', row: 1 },
        { name: '한기호', role1: '내란동조자', role2: '강원 춘천시철원군화천군양구군을', group: '내란의힘', row: 1 },
        { name: '곽규택', role1: '내란동조자', role2: '부산 서구동구', group: '내란의힘', row: 2 },
        { name: '김상욱', role1: '내란동조자', role2: '울산 남구갑', group: '내란의힘', row: 2 },
        { name: '김성원', role1: '내란동조자', role2: '경기 동두천시양주시연천구을', group: '내란의힘', row: 2 },
        { name: '김용태', role1: '내란동조자', role2: '경기 포천시가평군', group: '내란의힘', row: 2 },
        { name: '김재섭', role1: '내란동조자', role2: '서울 도봉구갑', group: '내란의힘', row: 2 },
        { name: '김형동', role1: '내란동조자', role2: '경북 안동시예천군', group: '내란의힘', row: 2 },
        { name: '박수민', role1: '내란동조자', role2: '서울 강남구을', group: '내란의힘', row: 2 },
        { name: '박정하', role1: '내란동조자', role2: '강원 강릉시', group: '내란의힘', row: 2 },
        { name: '박정훈', role1: '내란동조자', role2: '서울 송파구갑', group: '내란의힘', row: 2 },
        { name: '서범수', role1: '내란동조자', role2: '울산 울주군', group: '내란의힘', row: 2 },
        { name: '신성범', role1: '내란동조자', role2: '경남 산청군함양군거창군합천군', group: '내란의힘', row: 2 },
        { name: '우재준', role1: '내란동조자', role2: '대구 북구갑', group: '내란의힘', row: 2 },
        { name: '장동혁', role1: '내란동조자', role2: '충남 보령시서천군', group: '내란의힘', row: 2 },
        { name: '정성국', role1: '내란동조자', role2: '부산 부산진구을', group: '내란의힘', row: 2 },
        { name: '정연욱', role1: '내란동조자', role2: '부산 수영구', group: '내란의힘', row: 2 },
        { name: '조경태', role1: '내란동조자', role2: '부산 사하구을', group: '내란의힘', row: 2 },
        { name: '주진우', role1: '내란동조자', role2: '부산 해운대구갑', group: '내란의힘', row: 2 },
        { name: '한지아', role1: '내란동조자', role2: '비례대표', group: '내란의힘', row: 2 },

        { name: '한동훈', role1: '혼동훈', role2: '한미꾸라지', group: '내란의힘', row: 3 },
        { name: '홍준표', role1: '내란선전선동자', role2: '대구시장', group: '내란의힘', row: 3 },
        { name: '오세훈', role1: '내란선전선동자', role2: '서울시장', group: '내란의힘', row: 3 },
        { name: '박형준', role1: '내란선전선동자', role2: '부산시장', group: '내란의힘', row: 3 },
        { name: '이장우', role1: '내란선전선동자', role2: '대전시장', group: '내란의힘', row: 3 },
        { name: '유정복', role1: '내란선전선동자', role2: '인천시장', group: '내란의힘', row: 3 },
        { name: '김두겸', role1: '내란선전선동자', role2: '울산시장', group: '내란의힘', row: 3 },
        { name: '최민호', role1: '내란선전선동자', role2: '세종시장', group: '내란의힘', row: 3 },
        { name: '김진태', role1: '내란선전선동자', role2: '강원도지사', group: '내란의힘', row: 3 },
        { name: '이철우', role1: '내란선전선동자', role2: '경북도지사', group: '내란의힘', row: 3 },
        { name: '박완수', role1: '내란선전선동자', role2: '경남도지시', group: '내란의힘', row: 3 },
        { name: '김태흠', role1: '내란선전선동자', role2: '충남도지사', group: '내란의힘', row: 3 },
        { name: '김영환', role1: '내란선전선동자', role2: '충북도지사', group: '내란의힘', row: 3 },

        { name: '이종배B', role1: '내란선전선동자', role2: '서울비례대표', group: '내란의힘', row: 4 },
        { name: '문성호', role1: '내란선전선동자', role2: '서울서대문2구:연희,홍제1‧2동', group: '내란의힘', row: 4 },
        {
          name: '이성배',
          role1: '내란선전선동자',
          role2: '서울송파4구:삼전,잠실본‧2‧3‧7동',
          group: '내란의힘',
          row: 4,
        },
        { name: '이경숙', role1: '내란선전선동자', role2: '서울도봉구1구:창1‧4‧5동', group: '내란의힘', row: 4 },
        { name: '김규남', role1: '내란선전선동자', role2: '서울송파1구:풍납1‧2,잠실4‧6동', group: '내란의힘', row: 4 },
        {
          name: '황철규',
          role1: '내란선전선동자',
          role2: '서울성동4구:응봉,성수1가1‧2,성수2가1‧3동',
          group: '내란의힘',
          row: 4,
        },
        { name: '이희원', role1: '내란선전선동자', role2: '서울동작4구:흑석,사당1‧2동', group: '내란의힘', row: 4 },
        { name: '송경택', role1: '내란선전선동자', role2: '서울비례대표', group: '내란의힘', row: 4 },
        { name: '박석', role1: '내란선전선동자', role2: '서울도봉3구:쌍문2‧4,방학3동', group: '내란의힘', row: 4 },
        { name: '김혜영', role1: '내란선전선동자', role2: '서울광진4구:자양3‧4,화양동', group: '내란의힘', row: 4 },
        {
          name: '강석주',
          role1: '내란선전선동자',
          role2: '서울강서2구:화곡3,가양1‧2,방화3동',
          group: '내란의힘',
          row: 4,
        },
        {
          name: '유만희',
          role1: '내란선전선동자',
          role2: '서울강남4구:일원본‧1,개포3,수서,세곡동',
          group: '내란의힘',
          row: 4,
        },
        { name: '김혜지', role1: '내란선전선동자', role2: '서울강동1구:고덕1,암사1‧2‧3동', group: '내란의힘', row: 4 },
        { name: '이승복', role1: '내란선전선동자', role2: '서울양천4구:신월2‧6,신정3‧4동)', group: '내란의힘', row: 4 },
        {
          name: '남궁역',
          role1: '내란선전선동자',
          role2: '서울동대문3구:전농1‧2,답십리1동',
          group: '내란의힘',
          row: 4,
        },
        {
          name: '신복자',
          role1: '내란선전선동자',
          role2: '서울동대문4구:답십리2,장안1‧2동',
          group: '내란의힘',
          row: 4,
        },
        { name: '신동원', role1: '내란선전선동자', role2: '서울노원1구:월계1‧2‧3동', group: '내란의힘', row: 4 },
        { name: '황유정', role1: '내란선전선동자', role2: '서울비례대표', group: '내란의힘', row: 4 },
        {
          name: '김영철',
          role1: '내란선전선동자',
          role2: '서울강동5구:성내1‧2‧3,둔촌1동‧2동',
          group: '내란의힘',
          row: 4,
        },
        {
          name: '박춘선',
          role1: '내란선전선동자',
          role2: '서울강동3구:강일,상일1‧2,고덕2동',
          group: '내란의힘',
          row: 4,
        },
        { name: '고광민', role1: '내란선전선동자', role2: '서울서초3구:서초1‧3,방배2‧3동', group: '내란의힘', row: 4 },
        { name: '김원중', role1: '내란선전선동자', role2: '서울성북2구:정릉1‧2‧3‧4,길음동', group: '내란의힘', row: 4 },
        {
          name: '김춘곤',
          role1: '내란선전선동자',
          role2: '서울강서4구:등촌3,가양1‧2,방화3동',
          group: '내란의힘',
          row: 4,
        },
        { name: '서호연', role1: '내란선전선동자', role2: '서울구로3구:신도림,구로1‧2‧5동', group: '내란의힘', row: 4 },
        { name: '강창석', role1: '내란선전선동자', role2: '창원라구:반송,용지동', group: '내란의힘', row: 5 },
        { name: '구점득', role1: '내란선전선동자', role2: '창원나구:팔룡,의창동', group: '내란의힘', row: 5 },
        { name: '권성현', role1: '내란선전선동자', role2: '창원가구:동읍,대산,북면', group: '내란의힘', row: 5 },
        { name: '김경수', role1: '내란선전선동자', role2: '창원바구:상남,사파동', group: '내란의힘', row: 5 },
        { name: '김미나', role1: '내란선전선동자', role2: '창원비례대표', group: '내란의힘', row: 5 },
        { name: '김수혜', role1: '내란선전선동자', role2: '창원비례대표', group: '내란의힘', row: 5 },
        { name: '김영록', role1: '내란선전선동자', role2: '창원사구:가음정,성주동', group: '내란의힘', row: 5 },
        { name: '김우진', role1: '내란선전선동자', role2: '창원가구:동읍,대산,북면', group: '내란의힘', row: 5 },
        {
          name: '김이근',
          role1: '내란선전선동자',
          role2: '창원아구:구산,진동,진북,진전면,현동,가포동',
          group: '내란의힘',
          row: 5,
        },
        { name: '김혜란', role1: '내란선전선동자', role2: '창원나구:팔룡,의창동', group: '내란의힘', row: 5 },
        { name: '남재욱', role1: '내란선전선동자', role2: '창원카구:내서읍', group: '내란의힘', row: 5 },
        { name: '박강우', role1: '내란선전선동자', role2: '창원비례대표', group: '내란의힘', row: 5 },
        {
          name: '박선애',
          role1: '내란선전선동자',
          role2: '창원차구:월영,문화,반월중앙,완월동',
          group: '내란의힘',
          row: 5,
        },
        {
          name: '박승엽',
          role1: '내란선전선동자',
          role2: '창원파구:양덕1‧2,합성2,구암1‧2,봉암동',
          group: '내란의힘',
          row: 5,
        },
        {
          name: '서영권',
          role1: '내란선전선동자',
          role2: '창원자구:자산,교방,오동,합포,산호동',
          group: '내란의힘',
          row: 5,
        },
        { name: '성보빈', role1: '내란선전선동자', role2: '창원바구:상남,사파동', group: '내란의힘', row: 5 },
        {
          name: '손태화',
          role1: '내란선전선동자',
          role2: '창원파구:양덕1‧2,합성2,구암1‧2,봉암동',
          group: '내란의힘',
          row: 5,
        },
        { name: '안상우', role1: '내란선전선동자', role2: '창원다구:봉림,명곡동', group: '내란의힘', row: 5 },
        { name: '이정희', role1: '내란선전선동자', role2: '창원마구:중앙,웅남동', group: '내란의힘', row: 5 },
        {
          name: '이천수',
          role1: '내란선전선동자',
          role2: '창원아구:구산,진동,진북,진전면,현동,가포동',
          group: '내란의힘',
          row: 5,
        },
        { name: '이혜련', role1: '내란선전선동자', role2: '창원하구:충무,여좌,태백동', group: '내란의힘', row: 5 },
        {
          name: '정길상',
          role1: '내란선전선동자',
          role2: '창원차구:월영,문화,반월중앙,완월동',
          group: '내란의힘',
          row: 5,
        },
        { name: '최정훈', role1: '내란선전선동자', role2: '창원너구:이동,자은,덕산,풍호동', group: '내란의힘', row: 5 },
        { name: '한상석', role1: '내란선전선동자', role2: '창원더구:웅천,웅동1‧2동', group: '내란의힘', row: 5 },
        {
          name: '홍용채',
          role1: '내란선전선동자',
          role2: '창원자구:자산,교방,오동,합포,산호동',
          group: '내란의힘',
          row: 5,
        },
        {
          name: '황점복',
          role1: '내란선전선동자',
          role2: '창원타구:회원1‧2,석전,회성,합성1동',
          group: '내란의힘',
          row: 5,
        },

        { name: '선주헌', role1: '내란선전선동자', role2: '영월나구', group: '내란의힘', row: 6 },
        { name: '황교안', role1: '내란선전선동자', role2: '유튜버', group: '내란의힘', row: 6 },
        { name: '이준배', role1: '내란선전선동자', role2: '이삼회회장, 세종시당위원장', group: '내란의힘', row: 6 },

        // 기타·극우미디어
        { name: '양태석', role1: '내란선전선동자', role2: '거제시가구 무소속', group: '기타·극우미디어', row: 1 },
        { name: '채일', role1: '내란선전선동자', role2: '국방부홍보원장', group: '기타·극우미디어', row: 1 },
        { name: '이은우', role1: '내란선전선동자', role2: 'KTV 원장', group: '기타·극우미디어', row: 1 },

        { name: '석동현', role1: '내란선전선동자', role2: '변호사', group: '기타·극우미디어', row: 2 },
        { name: '전원책', role1: '내란선전선동자', role2: '변호사', group: '기타·극우미디어', row: 2 },
        { name: '전광훈', role1: '내란선전선동자', role2: '全狂焄', group: '기타·극우미디어', row: 2 },
        { name: '정동수', role1: '내란선전선동자', role2: '인천사랑제일교회목사', group: '기타·극우미디어', row: 2 },
        { name: '박인환', role1: '내란선전선동자', role2: '전 건국대교수', group: '기타·극우미디어', row: 2 },
        { name: '김민아', role1: '내란선전선동자', role2: '빌드업코리아', group: '기타·극우미디어', row: 2 },
        { name: '정유라', role1: '내란선전선동자', role2: '???', group: '기타·극우미디어', row: 2 },
        { name: '김흥국', role1: '내란선전선동자', role2: '내란나비', group: '기타·극우미디어', row: 2 },
        { name: 'JK김동욱', role1: '내란선전선동자', role2: '가수', group: '기타·극우미디어', row: 2 },
        { name: '이상규', role1: '내란선전선동자', role2: '코리아나', group: '기타·극우미디어', row: 2 },
        { name: '차강석', role1: '내란선전선동자', role2: '???', group: '기타·극우미디어', row: 2 },
        { name: '여옥대첩', role1: '내란선전선동자', role2: '팬카페', group: '기타·극우미디어', row: 2 },

        { name: '김성원', role1: '내란선전선동자', role2: '유튜버', group: '기타·극우미디어', row: 3 },
        { name: '김동수', role1: '내란선전선동자', role2: '유튜버', group: '기타·극우미디어', row: 3 },
        { name: '김채환', role1: '내란선전선동자', role2: '유튜버', group: '기타·극우미디어', row: 3 },
        { name: '고성국', role1: '내란선전선동자', role2: '유튜버', group: '기타·극우미디어', row: 3 },
        { name: '공병호', role1: '내란선전선동자', role2: '유튜버', group: '기타·극우미디어', row: 3 },
        { name: '김세의', role1: '내란선전선동자', role2: '유튜버', group: '기타·극우미디어', row: 3 },
        { name: '배승희', role1: '내란선전선동자', role2: '유튜버', group: '기타·극우미디어', row: 3 },
        { name: '배인규', role1: '내란선전선동자', role2: '유튜버', group: '기타·극우미디어', row: 3 },
        { name: '별내림OO', role1: '내란선전선동자', role2: '유튜버', group: '기타·극우미디어', row: 3 },
        { name: '서정욱', role1: '내란선전선동자', role2: '유튜버', group: '기타·극우미디어', row: 3 },
        { name: '성창경', role1: '내란선전선동자', role2: '유튜버', group: '기타·극우미디어', row: 3 },
        { name: '신인균', role1: '내란선전선동자', role2: '유튜버', group: '기타·극우미디어', row: 3 },
        { name: '신혜식', role1: '내란선전선동자', role2: '유튜버', group: '기타·극우미디어', row: 3 },
        { name: '유퉁', role1: '내란선전선동자', role2: '유튜버', group: '기타·극우미디어', row: 3 },
        { name: '이봉규', role1: '내란선전선동자', role2: '유튜버', group: '기타·극우미디어', row: 3 },
        { name: '장재언', role1: '내란선전선동자', role2: '유튜버', group: '기타·극우미디어', row: 3 },
        { name: '최경원, 최헤일리', role1: '내란선전선동자', role2: '유튜버', group: '기타·극우미디어', row: 3 },
        { name: '한정석', role1: '내란선전선동자', role2: '유튜버', group: '기타·극우미디어', row: 3 },
        { name: '홍철기', role1: '내란선전선동자', role2: '유튜버', group: '기타·극우미디어', row: 3 },

        { name: '강군열', role1: '내란선전선동자', role2: '고려대', group: '기타·극우미디어', row: 5 },
        { name: '구종남', role1: '내란선전선동자', role2: '전북대', group: '기타·극우미디어', row: 5 },
        { name: '권숙희', role1: '내란선전선동자', role2: '제주대', group: '기타·극우미디어', row: 5 },
        { name: '권영호', role1: '내란선전선동자', role2: '서남대', group: '기타·극우미디어', row: 5 },
        { name: '권정현', role1: '내란선전선동자', role2: '중원대', group: '기타·극우미디어', row: 5 },
        { name: '김남식', role1: '내란선전선동자', role2: '부경대', group: '기타·극우미디어', row: 5 },
        { name: '김대성', role1: '내란선전선동자', role2: '경기과학기술대', group: '기타·극우미디어', row: 5 },
        { name: '김미영', role1: '내란선전선동자', role2: '한동대', group: '기타·극우미디어', row: 5 },
        { name: '김병준', role1: '내란선전선동자', role2: '강남대', group: '기타·극우미디어', row: 5 },
        { name: '김성일', role1: '내란선전선동자', role2: '경희대', group: '기타·극우미디어', row: 5 },

        { name: '김성진', role1: '내란선전선동자', role2: '부산대', group: '기타·극우미디어', row: 5 },
        { name: '김세룡', role1: '내란선전선동자', role2: '대구대', group: '기타·극우미디어', row: 5 },
        { name: '김송죽', role1: '내란선전선동자', role2: '이화여대', group: '기타·극우미디어', row: 5 },
        { name: '김승욱', role1: '내란선전선동자', role2: '중앙대', group: '기타·극우미디어', row: 5 },
        { name: '김연화', role1: '내란선전선동자', role2: '영남이공대', group: '기타·극우미디어', row: 5 },
        { name: '김용겸', role1: '내란선전선동자', role2: '가천대', group: '기타·극우미디어', row: 5 },
        { name: '김용대', role1: '내란선전선동자', role2: '경상국립대', group: '기타·극우미디어', row: 5 },
        { name: '김원식', role1: '내란선전선동자', role2: '건국대', group: '기타·극우미디어', row: 5 },
        { name: '김종순', role1: '내란선전선동자', role2: '강원대', group: '기타·극우미디어', row: 5 },
        { name: '김준희', role1: '내란선전선동자', role2: '호서대', group: '기타·극우미디어', row: 5 },

        { name: '김진수', role1: '내란선전선동자', role2: '충북대', group: '기타·극우미디어', row: 5 },
        { name: '김철홍', role1: '내란선전선동자', role2: '장로회신학대', group: '기타·극우미디어', row: 5 },
        { name: '김충일', role1: '내란선전선동자', role2: '국방대', group: '기타·극우미디어', row: 5 },
        { name: '김학성', role1: '내란선전선동자', role2: '강원대', group: '기타·극우미디어', row: 5 },
        { name: '김현숙', role1: '내란선전선동자', role2: '신성대', group: '기타·극우미디어', row: 5 },
        { name: '나승혁', role1: '내란선전선동자', role2: '중원대', group: '기타·극우미디어', row: 5 },
        { name: '도경구', role1: '내란선전선동자', role2: '한양대', group: '기타·극우미디어', row: 5 },
        { name: '류도희', role1: '내란선전선동자', role2: '가야대', group: '기타·극우미디어', row: 5 },
        { name: '류석춘', role1: '내란선전선동자', role2: '연세대', group: '기타·극우미디어', row: 5 },
        { name: '마호섭', role1: '내란선전선동자', role2: '경상국립대', group: '기타·극우미디어', row: 5 },

        { name: '맹주성', role1: '내란선전선동자', role2: '한양대', group: '기타·극우미디어', row: 5 },
        { name: '문병구', role1: '내란선전선동자', role2: '대구대', group: '기타·극우미디어', row: 5 },
        { name: '민성기', role1: '내란선전선동자', role2: '부경대', group: '기타·극우미디어', row: 5 },
        { name: '박동율', role1: '내란선전선동자', role2: '한국외국어대', group: '기타·극우미디어', row: 5 },
        { name: '박명수', role1: '내란선전선동자', role2: '서울신학대', group: '기타·극우미디어', row: 5 },
        { name: '박상길', role1: '내란선전선동자', role2: '부경대', group: '기타·극우미디어', row: 5 },
        { name: '박억종', role1: '내란선전선동자', role2: '한세대', group: '기타·극우미디어', row: 5 },
        { name: '박영아', role1: '내란선전선동자', role2: '명지대', group: '기타·극우미디어', row: 5 },
        { name: '박인환', role1: '내란선전선동자', role2: '건국대', group: '기타·극우미디어', row: 5 },
        { name: '박준규', role1: '내란선전선동자', role2: '전북대', group: '기타·극우미디어', row: 5 },

        { name: '박창용', role1: '내란선전선동자', role2: '금오공과대', group: '기타·극우미디어', row: 5 },
        { name: '박철홍', role1: '내란선전선동자', role2: '동아대', group: '기타·극우미디어', row: 5 },
        { name: '박효춘', role1: '내란선전선동자', role2: '강남대', group: '기타·극우미디어', row: 5 },
        { name: '방병국', role1: '내란선전선동자', role2: '군장대', group: '기타·극우미디어', row: 5 },
        { name: '배순자', role1: '내란선전선동자', role2: '전주대', group: '기타·극우미디어', row: 5 },
        { name: '백화진', role1: '내란선전선동자', role2: '경성대', group: '기타·극우미디어', row: 5 },
        { name: '서동엽', role1: '내란선전선동자', role2: 'KAIST', group: '기타·극우미디어', row: 5 },
        { name: '서보근', role1: '내란선전선동자', role2: '계명대', group: '기타·극우미디어', row: 5 },
        { name: '송오섭', role1: '내란선전선동자', role2: '충남대', group: '기타·극우미디어', row: 5 },
        { name: '송정근', role1: '내란선전선동자', role2: '동아대', group: '기타·극우미디어', row: 5 },

        { name: '송종규', role1: '내란선전선동자', role2: '부경대', group: '기타·극우미디어', row: 5 },
        { name: '송준호', role1: '내란선전선동자', role2: '안양대', group: '기타·극우미디어', row: 5 },
        { name: '신도철', role1: '내란선전선동자', role2: '숙명여대', group: '기타·극우미디어', row: 5 },
        { name: '신승국', role1: '내란선전선동자', role2: '용인대', group: '기타·극우미디어', row: 5 },
        { name: '신운섭', role1: '내란선전선동자', role2: '서강대', group: '기타·극우미디어', row: 5 },
        { name: '신종우', role1: '내란선전선동자', role2: '계명문화대', group: '기타·극우미디어', row: 5 },
        { name: '신혜경', role1: '내란선전선동자', role2: '서강대', group: '기타·극우미디어', row: 5 },
        { name: '심종섭', role1: '내란선전선동자', role2: '강원대', group: '기타·극우미디어', row: 5 },
        { name: '심흥수', role1: '내란선전선동자', role2: '경상국립대학', group: '기타·극우미디어', row: 5 },
        { name: '안호원', role1: '내란선전선동자', role2: '열린사이버대', group: '기타·극우미디어', row: 5 },

        { name: '양준모', role1: '내란선전선동자', role2: '연세대', group: '기타·극우미디어', row: 5 },
        { name: '오기완', role1: '내란선전선동자', role2: '충북대', group: '기타·극우미디어', row: 5 },
        { name: '오여호수아', role1: '내란선전선동자', role2: '충청대', group: '기타·극우미디어', row: 5 },
        { name: '오택근', role1: '내란선전선동자', role2: '안양대', group: '기타·극우미디어', row: 5 },
        { name: '오호진', role1: '내란선전선동자', role2: '한밭대', group: '기타·극우미디어', row: 5 },
        { name: '오화석', role1: '내란선전선동자', role2: '배재대', group: '기타·극우미디어', row: 5 },
        { name: '유양근', role1: '내란선전선동자', role2: '강남대', group: '기타·극우미디어', row: 5 },
        { name: '유영현', role1: '내란선전선동자', role2: '동아대', group: '기타·극우미디어', row: 5 },
        { name: '윤경자', role1: '내란선전선동자', role2: '동의대', group: '기타·극우미디어', row: 5 },
        { name: '윤형진', role1: '내란선전선동자', role2: '서울대', group: '기타·극우미디어', row: 5 },

        { name: '이국행', role1: '내란선전선동자', role2: '전북대', group: '기타·극우미디어', row: 5 },
        { name: '이민세', role1: '내란선전선동자', role2: '영남이공대', group: '기타·극우미디어', row: 5 },
        { name: '이상배', role1: '내란선전선동자', role2: '동아대', group: '기타·극우미디어', row: 5 },
        { name: '이상규', role1: '내란선전선동자', role2: '고신대', group: '기타·극우미디어', row: 5 },
        { name: '이승주', role1: '내란선전선동자', role2: '강남대', group: '기타·극우미디어', row: 5 },
        { name: '이양승', role1: '내란선전선동자', role2: '군산대', group: '기타·극우미디어', row: 5 },
        { name: '이영옥', role1: '내란선전선동자', role2: '성균관대', group: '기타·극우미디어', row: 5 },
        { name: '이우용', role1: '내란선전선동자', role2: '인제대', group: '기타·극우미디어', row: 5 },
        { name: '이은혜', role1: '내란선전선동자', role2: '순천향', group: '기타·극우미디어', row: 5 },
        { name: '이재기', role1: '내란선전선동자', role2: '동아대', group: '기타·극우미디어', row: 5 },

        { name: '이재신', role1: '내란선전선동자', role2: '아주대', group: '기타·극우미디어', row: 5 },
        { name: '이제봉', role1: '내란선전선동자', role2: '울산대', group: '기타·극우미디어', row: 5 },
        { name: '이지용', role1: '내란선전선동자', role2: '계명대', group: '기타·극우미디어', row: 5 },
        { name: '이지향', role1: '내란선전선동자', role2: '경기대', group: '기타·극우미디어', row: 5 },
        { name: '이지현', role1: '내란선전선동자', role2: '가천대', group: '기타·극우미디어', row: 5 },
        { name: '이철세', role1: '내란선전선동자', role2: '배재대', group: '기타·극우미디어', row: 5 },
        { name: '이철순', role1: '내란선전선동자', role2: '부산대', group: '기타·극우미디어', row: 5 },
        { name: '이춘근', role1: '내란선전선동자', role2: '연세대', group: '기타·극우미디어', row: 5 },
        { name: '이희천', role1: '내란선전선동자', role2: '국가정보대학원', group: '기타·극우미디어', row: 5 },
        { name: '이형우', role1: '내란선전선동자', role2: '한남대', group: '기타·극우미디어', row: 5 },

        { name: '임영효', role1: '내란선전선동자', role2: '고신대', group: '기타·극우미디어', row: 5 },
        { name: '장석민', role1: '내란선전선동자', role2: '한국복지대', group: '기타·극우미디어', row: 5 },
        { name: '장재언', role1: '내란선전선동자', role2: '국방대', group: '기타·극우미디어', row: 5 },
        { name: '전병관', role1: '내란선전선동자', role2: '경희대', group: '기타·극우미디어', row: 5 },
        { name: '정규석', role1: '내란선전선동자', role2: '강원대', group: '기타·극우미디어', row: 5 },
        { name: '정동수', role1: '내란선전선동자', role2: '인하대', group: '기타·극우미디어', row: 5 },
        { name: '정영기', role1: '내란선전선동자', role2: '아주대', group: '기타·극우미디어', row: 5 },
        { name: '정욱영', role1: '내란선전선동자', role2: '관동대', group: '기타·극우미디어', row: 5 },
        { name: '정종민', role1: '내란선전선동자', role2: '동의과학대', group: '기타·극우미디어', row: 5 },
        { name: '제양규', role1: '내란선전선동자', role2: '한동대', group: '기타·극우미디어', row: 5 },

        { name: '조동근', role1: '내란선전선동자', role2: '명지대', group: '기타·극우미디어', row: 5 },
        { name: '조맹기', role1: '내란선전선동자', role2: '서강대', group: '기타·극우미디어', row: 5 },
        { name: '조영수', role1: '내란선전선동자', role2: '동아대', group: '기타·극우미디어', row: 5 },
        { name: '조재국', role1: '내란선전선동자', role2: '동양대', group: '기타·극우미디어', row: 5 },
        { name: '주명준', role1: '내란선전선동자', role2: '전주대', group: '기타·극우미디어', row: 5 },
        { name: '최대웅', role1: '내란선전선동자', role2: '동의대', group: '기타·극우미디어', row: 5 },
        { name: '최병암', role1: '내란선전선동자', role2: '충북대', group: '기타·극우미디어', row: 5 },
        { name: '최설희', role1: '내란선전선동자', role2: '전주대', group: '기타·극우미디어', row: 5 },
        { name: '최성락', role1: '내란선전선동자', role2: '목포대', group: '기타·극우미디어', row: 5 },
        { name: '최원목', role1: '내란선전선동자', role2: '이화여대', group: '기타·극우미디어', row: 5 },

        { name: '최태호', role1: '내란선전선동자', role2: '중부대', group: '기타·극우미디어', row: 5 },
        { name: '한장원', role1: '내란선전선동자', role2: '동아대', group: '기타·극우미디어', row: 5 },
        { name: '한혜원', role1: '내란선전선동자', role2: '숙명여대', group: '기타·극우미디어', row: 5 },
        { name: '허남일', role1: '내란선전선동자', role2: '강남대', group: '기타·극우미디어', row: 5 },
        { name: '허병기', role1: '내란선전선동자', role2: '인하대', group: '기타·극우미디어', row: 5 },
        { name: '허성우', role1: '내란선전선동자', role2: '동아대', group: '기타·극우미디어', row: 5 },
        { name: '허 훈', role1: '내란선전선동자', role2: '고려대', group: '기타·극우미디어', row: 5 },
        { name: '현무성', role1: '내란선전선동자', role2: '강남대', group: '기타·극우미디어', row: 5 },
        { name: '현숙경', role1: '내란선전선동자', role2: '침례신학대', group: '기타·극우미디어', row: 5 },
        { name: '홍후조', role1: '내란선전선동자', role2: '고려대', group: '기타·극우미디어', row: 5 },

        { name: '황승연', role1: '내란선전선동자', role2: '경희대', group: '기타·극우미디어', row: 5 },
        { name: '황인철', role1: '내란선전선동자', role2: '고신대', group: '기타·극우미디어', row: 5 },
        { name: '황홍섭', role1: '내란선전선동자', role2: '부산교육대', group: '기타·극우미디어', row: 5 },

        { name: '김문석', role1: '내란선전선동자', role2: '경기, 일산', group: '기타·극우미디어', row: 6 },
        { name: '김인숙', role1: '내란선전선동자', role2: '경기, 용인', group: '기타·극우미디어', row: 6 },
        { name: '이예지', role1: '내란선전선동자', role2: '서울, 은평', group: '기타·극우미디어', row: 6 },
        { name: '천다희', role1: '내란선전선동자', role2: '서울, 노원', group: '기타·극우미디어', row: 6 },
        { name: '무명1', role1: '내란선전선동자', role2: '???', group: '기타·극우미디어', row: 6 },
        { name: '무명2', role1: '내란선전선동자', role2: '???', group: '기타·극우미디어', row: 6 },
        { name: '무명3', role1: '내란선전선동자', role2: '???', group: '기타·극우미디어', row: 6 },
      ]; // 여기를 수정

      // 이미지 캐시를 위한 맵
      const imageCache = new Map();

      // 이미지 사전 로드 함수
      function preloadImage(src) {
        return new Promise((resolve, reject) => {
          if (imageCache.has(src)) {
            resolve(imageCache.get(src));
            return;
          }

          const img = new Image();
          img.onload = () => {
            imageCache.set(src, src);
            resolve(src);
          };
          img.onerror = () => reject(new Error(`Failed to load image: ${src}`));
          img.src = src;
        });
      }

      // 섹션 로고 로딩 함수
      function loadSectionLogo(section, logoContainer) {
        const tryLoadLogo = (formats) => {
          if (formats.length === 0) {
            logoContainer.style.display = 'none';
            return;
          }

          const format = formats[0];
          const logoPath = `images/${section}/${section}.${format}`; // 파일명을 섹션 이름으로 수정
          const img = new Image();

          img.onload = () => {
            img.className = 'section-logo';
            logoContainer.innerHTML = '';
            logoContainer.appendChild(img);
            logoContainer.style.display = 'block';
          };

          img.onerror = () => {
            tryLoadLogo(formats.slice(1));
          };

          img.src = logoPath;
        };

        tryLoadLogo(['webp', 'jpg', 'jpeg', 'png']);
      }

      // 모달 초기화 함수
      function initializeModal() {
        const modal = document.getElementById('personModal');
        const modalContent = modal.querySelector('.modal-content');
        const closeBtn = modal.querySelector('.modal-close');

        // 모달 닫기 이벤트
        closeBtn.onclick = function () {
          modal.style.display = 'none';
        };

        // 모달 외부 클릭시 닫기
        window.onclick = function (event) {
          if (event.target == modal) {
            modal.style.display = 'none';
          }
        };

        // 모달 컨텐츠 클릭시 이벤트 전파 중단
        modalContent.onclick = function (event) {
          event.stopPropagation();
        };
      }

      // 카드 생성 함수
      function createPersonCard(person) {
        const personContainer = document.createElement('div');
        personContainer.className = 'person-container';
        personContainer.setAttribute('data-section', person.group);
        personContainer.setAttribute('data-row', person.row);
        personContainer.setAttribute('data-name', person.name); // data-name 속성 추가

        const img = document.createElement('img');
        img.alt = person.name;

        // 이미지 로딩 로직 개선
        const tryLoadImage = (formats) => {
          if (formats.length === 0) {
            // 모든 형식 실패시 unknown 이미지 시도
            const tryUnknownImage = (unknownFormats) => {
              if (unknownFormats.length === 0) {
                img.src = 'images/unknown.webp'; // 최종 폴백 이미지
                return;
              }

              const format = unknownFormats[0];
              const unknownPath = `images/${person.group}/unknown.${format}`;

              img.onerror = () => {
                tryUnknownImage(unknownFormats.slice(1));
              };
              img.src = unknownPath;
            };

            tryUnknownImage(['webp', 'jpg', 'jpeg', 'png']);
            return;
          }

          const format = formats[0];
          let imagePath = `images/${person.group}/${person.name}.${format}`;
          if (person.group === '기타·극우미디어' && person.row === 5) {
            imagePath = `images/${person.group}/5/${person.name}.${format}`;
          }

          img.onerror = () => {
            // 현재 형식 실패시 다음 형식 시도
            tryLoadImage(formats.slice(1));
          };
          img.src = imagePath;
        };

        // 이미지 형식 우선순위
        tryLoadImage(['webp', 'jpg', 'jpeg', 'png']);

        // 이름과 역할 정보
        const name = document.createElement('div');
        name.className = 'person-name';
        name.textContent = person.name;

        const role1 = document.createElement('div');
        role1.className = 'person-role';
        role1.textContent = person.role1;

        const role2 = document.createElement('div');
        role2.className = 'person-role2';
        role2.textContent = person.role2;

        // 요소들을 카드에 추가
        personContainer.appendChild(img);
        personContainer.appendChild(name);
        personContainer.appendChild(role1);
        personContainer.appendChild(role2);

        // 클릭 이벤트 최적화
        personContainer.addEventListener('click', function () {
          const modal = document.getElementById('personModal');
          const modalImage = document.getElementById('modalImage');
          const modalName = document.getElementById('modalName');
          const modalRole1 = document.getElementById('modalRole1');
          const modalRole2 = document.getElementById('modalRole2');
          const modalActions = document.getElementById('modalActions');
          const modalActionsView = document.getElementById('modalActionsView');

          // 이전 데이터 초기화
          modalActions.value = '';
          modalActionsView.innerHTML = '';

          // 모달 기본 정보 설정
          modalImage.src = img.src;
          modalName.textContent = person.name;
          modalRole1.textContent = person.role1;
          modalRole2.textContent = person.role2;

          // 현재 선택된 사람의 이름을 저장
          const currentPerson = person.name;

          // 모달 표시
          modal.style.display = 'block';

          // 행적 데이터 로드
          loadActionsData(person.name).then((actionsData) => {
            // 현재 표시된 모달이 여전히 같은 사람인지 확인
            if (modalName.textContent === currentPerson) {
              const personActions = actionsData[currentPerson] || '';

              if (isAdmin) {
                modalActions.style.display = 'block';
                modalActionsView.style.display = 'none';
                modalActions.value = typeof personActions === 'object' ? personActions.text || '' : personActions;
              } else {
                modalActions.style.display = 'none';
                modalActionsView.style.display = 'block';
                modalActionsView.innerHTML = formatActions(personActions);
              }
            }
          });
        });

        return personContainer;
      }

      // 사람들 렌더링 함수
      function renderPeople() {
        const groupedPeople = {};
        people.forEach((person) => {
          if (!groupedPeople[person.group]) {
            groupedPeople[person.group] = [];
          }
          groupedPeople[person.group].push(person);
        });

        Object.keys(groupedPeople).forEach((group) => {
          const container = document.getElementById(`${group}-container`);
          if (container) {
            container.innerHTML = '';

            if (group === '내란수괴') {
              const rowDiv = document.createElement('div');
              rowDiv.style.display = 'flex';
              rowDiv.style.justifyContent = 'center';
              rowDiv.style.position = 'relative';
              rowDiv.style.width = '100%';

              groupedPeople[group].forEach((person) => {
                const card = createPersonCard(person);
                if (person.position === 'center') {
                  card.style.margin = '0 auto';
                } else if (person.position === 'right') {
                  card.style.position = 'absolute';
                  card.style.right = '0';
                  card.style.top = '0';
                }
                rowDiv.appendChild(card);
              });

              container.appendChild(rowDiv);
            } else if (group === '내란의힘') {
              let martialLawPeople = [];
              let martialLawAgreePeople = [];
              let otherPeople = [];
              let rowPeople = new Map(); // row별 인물을 저장할 Map 객체
              let isInMartialLawGroup = false;
              let isInMartialLawAgreeGroup = false;

              groupedPeople[group].forEach((person) => {
                if (person.row && person.row >= 3) {
                  // row가 3 이상인 경우
                  if (!rowPeople.has(person.row)) {
                    rowPeople.set(person.row, []);
                  }
                  rowPeople.get(person.row).push(person);
                  return;
                }

                if (person.name === '추경호') {
                  isInMartialLawGroup = true;
                } else if (person.name === '곽규택') {
                  isInMartialLawAgreeGroup = true;
                }

                if (isInMartialLawGroup) {
                  martialLawPeople.push(person);
                } else if (isInMartialLawAgreeGroup) {
                  martialLawAgreePeople.push(person);
                } else {
                  otherPeople.push(person);
                }

                if (person.name === '한기호') {
                  isInMartialLawGroup = false;
                } else if (person.name === '한지아') {
                  isInMartialLawAgreeGroup = false;
                }
              });

              // 계엄해제 불참자 그룹 렌더링
              const martialLawGroup = document.createElement('div');
              martialLawGroup.className = 'martial-law-group';
              const martialLawContainer = document.createElement('div');
              martialLawContainer.className = 'people-container';
              martialLawGroup.appendChild(martialLawContainer);

              // 8명씩 나누기
              for (let i = 0; i < martialLawPeople.length; i += 8) {
                const rowDiv = document.createElement('div');
                rowDiv.className = 'row';
                const chunk = martialLawPeople.slice(i, i + 8);
                chunk.forEach((person) => {
                  rowDiv.appendChild(createPersonCard(person));
                });
                martialLawContainer.appendChild(rowDiv);
              }
              container.appendChild(martialLawGroup);

              // 계엄해제 동의자 그룹 렌더링
              const martialLawAgreeGroup = document.createElement('div');
              martialLawAgreeGroup.className = 'martial-law-agree-group';
              const martialLawAgreeContainer = document.createElement('div');
              martialLawAgreeContainer.className = 'people-container';
              martialLawAgreeGroup.appendChild(martialLawAgreeContainer);

              // 8명씩 나누기
              for (let i = 0; i < martialLawAgreePeople.length; i += 8) {
                const rowDiv = document.createElement('div');
                rowDiv.className = 'row';
                const chunk = martialLawAgreePeople.slice(i, i + 8);
                chunk.forEach((person) => {
                  rowDiv.appendChild(createPersonCard(person));
                });
                martialLawAgreeContainer.appendChild(rowDiv);
              }
              container.appendChild(martialLawAgreeGroup);

              // 나머지 인물들 렌더링
              otherPeople.forEach((person) => {
                container.appendChild(createPersonCard(person));
              });

              // 각 row의 인물들을 순서대로 렌더링
              Array.from(rowPeople.keys())
                .sort((a, b) => a - b) // row 번호 순으로 정렬
                .forEach((rowNum) => {
                  const rowContainer = document.createElement('div');
                  rowContainer.className = `row${rowNum}-container`;

                  const people = rowPeople.get(rowNum);
                  // 8명씩 자동 정렬
                  for (let i = 0; i < people.length; i += 8) {
                    const rowDiv = document.createElement('div');
                    rowDiv.className = 'row';
                    const chunk = people.slice(i, i + 8);
                    chunk.forEach((person) => {
                      rowDiv.appendChild(createPersonCard(person));
                    });
                    rowContainer.appendChild(rowDiv);
                  }
                  container.appendChild(rowContainer);
                });
            } else {
              // row 값으로 그룹화
              const rowGroups = {};
              groupedPeople[group].forEach((person) => {
                const row = person.row || 1; // row가 없으면 1로 처리
                if (!rowGroups[row]) {
                  rowGroups[row] = [];
                }
                rowGroups[row].push(person);
              });

              // row 순서대로 정렬
              Object.keys(rowGroups)
                .sort((a, b) => parseInt(a) - parseInt(b))
                .forEach((row) => {
                  const peopleInRow = rowGroups[row];
                  // 8명씩 나누기
                  for (let i = 0; i < peopleInRow.length; i += 8) {
                    const rowDiv = document.createElement('div');
                    rowDiv.className = 'row';
                    const chunk = peopleInRow.slice(i, i + 8);
                    chunk.forEach((person) => {
                      rowDiv.appendChild(createPersonCard(person));
                    });
                    container.appendChild(rowDiv);
                  }
                });
            }
          }
        });
      }

      // 섹션 로고 로딩
      const sections = ['군부', '경찰', '대통령실', '내란의힘', '기타·극우미디어'];
      sections.forEach((section) => {
        const logoContainer = document.querySelector(`#${section}-section .logo-container`);
        loadSectionLogo(section, logoContainer);
      });

      // 섹션 로고 클릭 이벤트 설정
      function setupSectionLogoClicks() {
        const sections = document.querySelectorAll('.section');
        sections.forEach((section) => {
          const logo = section.querySelector('.section-logo');
          const title = section.querySelector('.section-title');
          if (logo) {
            logo.style.cursor = 'pointer';
            logo.addEventListener('click', () => handleSectionClick(section));
          }
          if (title) {
            title.style.cursor = 'pointer';
            title.addEventListener('click', () => handleSectionClick(section));
          }
        });
      }

      // 섹션 클릭 핸들러
      function handleSectionClick(section) {
        const sectionId = section.id.replace('-section', '');
        const sectionName = section.querySelector('h2').textContent;
        const sectionLogo = section.querySelector('.section-logo img');
        const logoSrc = sectionLogo ? sectionLogo.src : '';

        const modal = document.getElementById('personModal');
        const modalImage = document.getElementById('modalImage');
        const modalName = document.getElementById('modalName');
        const modalRole1 = document.getElementById('modalRole1');
        const modalRole2 = document.getElementById('modalRole2');
        const modalActions = document.getElementById('modalActions');
        const modalActionsView = document.getElementById('modalActionsView');
        const loadingOverlay = document.querySelector('.loading-overlay');

        // 모달 내용 설정
        modalImage.src = logoSrc;
        modalName.textContent = sectionName;
        modalRole1.textContent = '조직 행적';
        modalRole2.textContent = '';

        // 초기값 설정
        modalActions.value = '';
        modalActionsView.innerHTML = formatActions('');

        // 로딩 오버레이 표시
        loadingOverlay.style.display = 'flex';

        // 캐시 키 설정
        const cacheKey = `actions_${sectionId}`;
        const cacheTimestampKey = `actions_timestamp_${sectionId}`;

        // Firebase에서 해당 섹션의 데이터만 로드
        const actionsRef = db.ref('section-actions/' + sectionId);

        // 이전 리스너가 있다면 제거
        if (window.currentActionsRef) {
          window.currentActionsRef.off();
          window.currentActionsRef = null;
        }

        actionsRef
          .once('value')
          .then((snapshot) => {
            const text = snapshot.val();
            if (text) {
              modalActions.value = text;
              modalActionsView.innerHTML = formatActions(text);
            }
          })
          .catch((error) => {
            console.error('Error loading section actions:', error);
            modalActions.value = '';
            modalActionsView.innerHTML = formatActions('');
          })
          .finally(() => {
            loadingOverlay.style.display = 'none';
          });

        // 관리자 모드에 따라 버튼 표시/숨김
        const adminLoginBtn = document.getElementById('adminLoginBtn');
        const saveBtn = document.getElementById('saveBtn');

        if (isAdmin) {
          adminLoginBtn.style.display = 'none';
          saveBtn.style.display = 'inline-block';
          modalActions.style.display = 'block';
          modalActionsView.style.display = 'none';
        } else {
          adminLoginBtn.style.display = 'inline-block';
          adminLoginBtn.style.float = 'right';
          saveBtn.style.display = 'none';
          modalActions.style.display = 'none';
          modalActionsView.style.display = 'block';
        }

        modal.style.display = 'block';
      }

      // 탭 열기 함수
      function openTab(evt, tabName) {
        // 모든 탭 컨텐츠를 숨김
        const tabcontent = document.getElementsByClassName('tabcontent');
        for (let i = 0; i < tabcontent.length; i++) {
          tabcontent[i].style.display = 'none';
        }

        // 모든 탭 버튼의 active 클래스 제거
        const tablinks = document.getElementsByClassName('tablinks');
        for (let i = 0; i < tablinks.length; i++) {
          tablinks[i].className = tablinks[i].className.replace(' active', '');
        }

        // 선택된 탭의 컨텐츠를 보이게 하고 버튼을 활성화
        document.getElementById(tabName).style.display = 'block';
        evt.currentTarget.className += ' active';
      }

      // 검색 기능
      function setupSearch() {
        const searchInput = document.getElementById('searchInput');
        const searchResults = document.querySelector('.search-results');

        // 이전 하이라이트 효과 제거 함수
        function removeHighlights() {
          const allCards = document.querySelectorAll('.person-container');
          allCards.forEach((card) => {
            card.style.animation = '';
            card.style.opacity = '1';
          });
        }

        // 카드로 스크롤 및 하이라이트 효과 적용
        function scrollToCard(matchingCard) {
          if (!matchingCard) return;

          removeHighlights();

          matchingCard.scrollIntoView({
            behavior: 'smooth',
            block: 'center',
          });

          matchingCard.style.animation = 'highlight 2s';
          matchingCard.style.opacity = '1';

          const allCards = document.querySelectorAll('.person-container');
          allCards.forEach((card) => {
            if (card !== matchingCard) {
              card.style.opacity = '0.5';
            }
          });

          setTimeout(() => {
            allCards.forEach((card) => {
              card.style.opacity = '1';
            });
          }, 3000);
        }

        // 검색 실행 함수
        function executeSearch(searchTerm) {
          searchTerm = searchTerm.trim().toLowerCase();
          if (!searchTerm) return null;

          // 카드 찾기
          const allCards = document.querySelectorAll('.person-container');
          let foundCard = null;

          allCards.forEach((card) => {
            const name = card.getAttribute('data-name').toLowerCase();
            if (name.includes(searchTerm)) {
              foundCard = card;
              return;
            }
          });

          return foundCard;
        }

        // 실시간 검색 결과 표시
        searchInput.addEventListener('input', function () {
          const searchTerm = this.value.trim().toLowerCase();

          if (searchTerm.length < 1) {
            searchResults.style.display = 'none';
            return;
          }

          // people 배열에서 검색
          const matchingPeople = people.filter(
            (person) =>
              person.name.toLowerCase().includes(searchTerm) ||
              person.role1.toLowerCase().includes(searchTerm) ||
              person.role2.toLowerCase().includes(searchTerm)
          );

          if (matchingPeople.length > 0) {
            searchResults.innerHTML = matchingPeople
              .map(
                (person) => `
                            <div class="search-result-item" data-name="${person.name}">
                                <div class="search-result-name">${person.name}</div>
                                <div class="search-result-role">
                                    <span class="search-result-category">${person.group}</span>
                                    ${person.role1}${person.role2 ? ` | ${person.role2}` : ''}
                                </div>
                            </div>
                        `
              )
              .join('');
            searchResults.style.display = 'block';
          } else {
            searchResults.style.display = 'none';
          }
        });

        // 엔터키 검색
        searchInput.addEventListener('keypress', function (e) {
          if (e.key === 'Enter') {
            e.preventDefault();
            const card = executeSearch(this.value);
            if (card) {
              searchResults.style.display = 'none';
              searchInput.value = '';
              scrollToCard(card);
            }
          }
        });

        // 검색 결과 클릭 이벤트
        searchResults.addEventListener('click', function (e) {
          const resultItem = e.target.closest('.search-result-item');
          if (!resultItem) return;

          const name = resultItem.dataset.name;
          const card = executeSearch(name);

          if (card) {
            searchResults.style.display = 'none';
            searchInput.value = '';
            scrollToCard(card);
          }
        });

        // 검색창 외부 클릭시 결과 숨기기
        document.addEventListener('click', function (e) {
          if (!e.target.closest('.search-container')) {
            searchResults.style.display = 'none';
          }
        });
      }

      // 위로 가기 버튼 기능
      function setupScrollTopButton() {
        const scrollTopBtn = document.querySelector('.scroll-top-btn');
        scrollTopBtn.addEventListener('click', function () {
          window.scrollTo({
            top: 0,
            behavior: 'smooth',
          });
        });
      }

      // 모달 창 기능
      function setupModal() {
        const personModal = document.getElementById('personModal');
        const adminModal = document.getElementById('adminModal');
        const adminManageModal = document.getElementById('adminManageModal');

        if (!personModal || !adminModal || !adminManageModal) {
          console.error('Required modal elements not found');
          return;
        }

        const modalClose = personModal.querySelector('.close');
        const adminModalClose = adminModal.querySelector('.close');
        const adminManageModalClose = adminManageModal.querySelector('.close');

        // 모달 창 닫기
        if (modalClose) {
          modalClose.onclick = function () {
            personModal.style.display = 'none';
          };
        }

        if (adminModalClose) {
          adminModalClose.onclick = function () {
            adminModal.style.display = 'none';
          };
        }

        if (adminManageModalClose) {
          adminManageModalClose.onclick = function () {
            adminManageModal.style.display = 'none';
          };
        }

        // 모달 창 외부 클릭시 닫기
        window.onclick = function (event) {
          if (event.target === personModal) {
            personModal.style.display = 'none';
          }
          if (event.target === adminModal) {
            adminModal.style.display = 'none';
          }
          if (event.target === adminManageModal) {
            adminManageModal.style.display = 'none';
          }
        };

        // 관리자 버튼 설정
        const adminLoginBtn = document.getElementById('adminLoginBtn');
        const saveBtn = document.getElementById('saveBtn');
        const logoutBtn = document.getElementById('logoutBtn');
        const adminManageBtn = document.getElementById('adminManageBtn');

        if (adminLoginBtn) {
          adminLoginBtn.addEventListener('click', function () {
            adminModal.style.display = 'block';
          });
        }

        if (saveBtn) {
          saveBtn.addEventListener('click', saveModalActions);
        }

        if (logoutBtn) {
          logoutBtn.addEventListener('click', logoutAdmin);
        }

        if (adminManageBtn) {
          adminManageBtn.addEventListener('click', function () {
            adminManageModal.style.display = 'block';
            loadAdminLists(); // 관리자 목록 로드
          });
        }
      }

      // 관리자 로그인 체크
      let isAdmin = false;
      let currentUser = null;

      // 관리자 로그인 함수
      async function loginAdmin() {
        const email = document.getElementById('adminEmail').value;
        const password = document.getElementById('adminPassword').value;

        if (!email || !password) {
          showCustomAlert('이메일과 비밀번호를 입력해주세요.');
          return;
        }

        try {
          const userCredential = await firebase.auth().signInWithEmailAndPassword(email, password);
          currentUser = userCredential.user;

          const isAdminCheck = await checkAdminPermission(currentUser.uid);

          if (isAdminCheck) {
            window.isAdmin = true; // 전역 변수로 설정
            document.getElementById('adminModal').style.display = 'none';
            document.getElementById('adminLoginBtn').style.display = 'none';
            document.getElementById('logoutBtn').style.display = 'block';
            document.getElementById('saveBtn').style.display = 'block';
            document.getElementById('adminManageBtn').style.display = 'block';

            // 현재 모달창의 UI를 즉시 업데이트
            const modalActions = document.getElementById('modalActions');
            const modalActionsView = document.getElementById('modalActionsView');
            const currentName = document.getElementById('modalName').textContent;

            if (modalActions && modalActionsView && currentName) {
              // 현재 표시된 인물의 데이터 로드
              const actionsRef = db.ref('actions/' + currentName);
              actionsRef.once('value').then((snapshot) => {
                const data = snapshot.val();
                console.log('로그인 후 데이터 로드:', data);

                // 데이터를 입력창에 표시
                modalActions.value = data && data.text ? data.text : '';
                if (!data || !data.text) {
                  modalActions.placeholder = '이 사람의 행적을 입력하세요...';
                }

                modalActions.style.display = 'block';
                modalActionsView.style.display = 'none';
              });
            }

            showCustomAlert('관리자로 로그인되었습니다.');
          } else {
            await firebase.auth().signOut();
            showCustomAlert('관리자 권한이 없습니다.');
          }
        } catch (error) {
          showCustomAlert('로그인 중 오류가 발생했습니다.');
        }
      }

      // 로그인 버튼 이벤트 리스너 설정
      const loginButton = document.getElementById('adminLoginSubmit');
      if (loginButton) {
        loginButton.addEventListener('click', function (e) {
          e.preventDefault();
          loginAdmin();
        });
      }

      // 엔터키 로그인
      const passwordInput = document.getElementById('adminPassword');
      if (passwordInput) {
        passwordInput.addEventListener('keydown', function (e) {
          if (e.key === 'Enter' || e.keyCode === 13) {
            e.preventDefault();
            loginAdmin();
          }
        });
      }

      // 페이지 로드 시 Firebase 인증 상태 확인
      firebase.auth().onAuthStateChanged(async (user) => {
        if (user) {
          currentUser = user;
          const isApprovedAdmin = await checkAdminPermission(user.uid);
          isAdmin = isApprovedAdmin;
          if (isAdmin) {
            document.getElementById('adminLoginBtn').style.display = 'none';
            document.getElementById('saveBtn').style.display = 'block';
            document.getElementById('logoutBtn').style.display = 'block';
            document.getElementById('adminManageBtn').style.display = 'block';
          }
        } else {
          isAdmin = false;
          document.getElementById('adminLoginBtn').style.display = 'block';
          document.getElementById('saveBtn').style.display = 'none';
          document.getElementById('logoutBtn').style.display = 'none';
          document.getElementById('adminManageBtn').style.display = 'none';
        }
      });

      // 관리자 권한 확인 함수
      async function checkAdminPermission(uid) {
        try {
          const adminRef = db.ref('admins/' + uid);
          const exists = (await adminRef.get()).exists();
          return exists;
        } catch (error) {
          console.error('Error checking admin permission:', error);
          return false;
        }
      }

      // 행적 텍스트 포맷팅
      function formatActions(actions) {
        console.log('formatActions 입력값:', actions); // 디버깅 로그

        if (!actions || Object.keys(actions).length === 0) {
          return 'Coming soon...';
        }

        // actions가 객체이고 text 속성이 있는 경우
        if (typeof actions === 'object') {
          console.log('객체 형태의 actions:', actions); // 디버깅 로그
          if (actions.text) {
            actions = actions.text;
          } else if (actions.actions) {
            actions = actions.actions;
          }
        }

        actions = String(actions).trim();
        console.log('최종 처리된 actions:', actions); // 디버깅 로그

        if (actions === '') {
          return 'Coming soon...';
        }

        return `<div class="actions-text">${String(actions)
          .split('\n')
          .map((line) => {
            // URL 패턴 매칭을 위한 정규식
            const urlPattern = /(https?:\/\/[^\s]+)/g;
            return line.trim().replace(urlPattern, '<a href="$1" target="_blank">$1</a>');
          })
          .join('<br>')}</div>`;
      }

      // 이미지 캐시와 DOM 요소 캐시
      const domCache = {
        modal: null,
        modalImage: null,
        modalName: null,
        modalRole1: null,
        modalRole2: null,
        modalActions: null,
        modalActionsView: null,
      };

      // DOM 요소 초기화
      function initializeDOM() {
        domCache.modal = document.getElementById('personModal');
        domCache.modalImage = document.getElementById('modalImage');
        domCache.modalName = document.getElementById('modalName');
        domCache.modalRole1 = document.getElementById('modalRole1');
        domCache.modalRole2 = document.getElementById('modalRole2');
        domCache.modalActions = document.getElementById('modalActions');
        domCache.modalActionsView = document.getElementById('modalActionsView');
      }

      // 모달 클릭 이벤트 핸들러
      function handleModalClick(person, img) {
        const modal = document.getElementById('personModal');
        const modalImage = document.getElementById('modalImage');
        const modalName = document.getElementById('modalName');
        const modalRole1 = document.getElementById('modalRole1');
        const modalRole2 = document.getElementById('modalRole2');
        ㄴ;
        const modalActions = document.getElementById('modalActions');
        const modalActionsView = document.getElementById('modalActionsView');
        const loadingOverlay = document.querySelector('.loading-overlay');

        // 이전 리스너가 있다면 제거
        if (window.currentActionsRef) {
          window.currentActionsRef.off();
          window.currentActionsRef = null;
        }

        // 모달 내용 설정
        modalImage.src = img;
        modalName.textContent = person.name;
        modalRole1.textContent = person.role1;
        modalRole2.textContent = person.role2;

        // 초기값 설정
        modalActions.value = '';
        modalActionsView.innerHTML = formatActions('');

        // 로딩 오버레이 표시
        loadingOverlay.style.display = 'flex';

        // 캐시 키 설정
        const cacheKey = `actions_${person.name}`;
        const cacheTimestampKey = `actions_timestamp_${person.name}`;

        // Firebase에서 해당 인물의 데이터만 로드
        const actionsRef = db.ref('actions/' + person.name);

        if (!isAdmin) {
          // 캐시 확인을 위한 lastUpdate와 데이터 로드를 하나의 연결로 통합
          actionsRef.once('value').then((snapshot) => {
            const data = snapshot.val();
            const serverLastUpdate = data ? data.lastUpdate || 0 : 0;
            const cachedData = localStorage.getItem(cacheKey);
            const cachedLastUpdate = localStorage.getItem(cacheTimestampKey);

            // 캐시된 데이터가 있고, 서버의 마지막 업데이트보다 최신인 경우
            if (cachedData && cachedLastUpdate && parseInt(cachedLastUpdate) >= serverLastUpdate) {
              const cached = JSON.parse(cachedData);
              modalActions.value = cached.text || '';
              modalActionsView.innerHTML = formatActions(cached);
            } else {
              // 서버 데이터 사용
              modalActions.value = data ? data.text || '' : '';
              modalActionsView.innerHTML = formatActions(data);

              // 새로운 데이터와 타임스탬프 캐시
              if (data) {
                localStorage.setItem(cacheKey, JSON.stringify(data));
                localStorage.setItem(cacheTimestampKey, serverLastUpdate.toString());
              }
            }
            loadingOverlay.style.display = 'none';
          });
        } else {
          // 관리자 모드도 동일한 방식으로 데이터 로드
          actionsRef.once('value').then((snapshot) => {
            const data = snapshot.val();
            console.log('관리자 모드 데이터 로드:', data);

            // 데이터를 입력창에 표시
            modalActions.value = data && data.text ? data.text : '';
            if (!data || !data.text) {
              modalActions.placeholder = '이 사람의 행적을 입력하세요...';
            }

            modalActions.style.display = 'block';
            modalActionsView.style.display = 'none';
            loadingOverlay.style.display = 'none';
          });
        }

        // 모달이 닫힐 때 확실하게 리스너 제거
        const closeListener = () => {
          if (window.currentActionsRef) {
            window.currentActionsRef.off();
            window.currentActionsRef = null;
          }
          modal.removeEventListener('hidden.modal', closeListener);
        };
        modal.addEventListener('hidden.modal', closeListener, { once: true });

        // 관리자 모드에 따라 버튼 표시/숨김
        const adminLoginBtn = document.getElementById('adminLoginBtn');
        const saveBtn = document.getElementById('saveBtn');
        const logoutBtn = document.getElementById('logoutBtn');

        if (isAdmin) {
          adminLoginBtn.style.display = 'none';
          saveBtn.style.display = 'inline-block';
          logoutBtn.style.display = 'inline-block';
          modalActions.style.display = 'block';
          modalActionsView.style.display = 'none';
        } else {
          adminLoginBtn.style.display = 'inline-block';
          adminLoginBtn.style.float = 'right';
          saveBtn.style.display = 'none';
          logoutBtn.style.display = 'none';
          modalActions.style.display = 'none';
          modalActionsView.style.display = 'block';
        }

        modal.style.display = 'block';
      }

      // 페이지 초기화 코드
      document.addEventListener('DOMContentLoaded', async function () {
        // 공지사항 모달 표시
        showNotice();

        initializeDOM();
        initializeModal();
        setupSearch();
        setupScrollTopButton();
        setupModal();
        setupSectionLogoClicks();
        renderPeople();
      });

      // 공지사항 모달 관련 함수
      function showNotice() {
        const modal = document.getElementById('noticeModal');
        modal.classList.add('is-show');
      }

      function closeNotice() {
        const modal = document.getElementById('noticeModal');
        modal.classList.remove('is-show');
      }

      // 커스텀 알림창 함수
      function showCustomAlert(message, callback) {
        const alertDiv = document.createElement('div');
        alertDiv.style.position = 'fixed';
        alertDiv.style.top = '20px'; // 상단에 위치하도록 변경
        alertDiv.style.left = '50%';
        alertDiv.style.transform = 'translateX(-50%)'; // Y축 변환 제거
        alertDiv.style.backgroundColor = 'white';
        alertDiv.style.padding = '15px 25px';
        alertDiv.style.borderRadius = '5px';
        alertDiv.style.boxShadow = '0 4px 6px rgba(0,0,0,0.15)';
        alertDiv.style.zIndex = '9999';
        alertDiv.style.textAlign = 'center';
        alertDiv.style.animation = 'slideDown 0.3s ease-out'; // 슬라이드 애니메이션 추가

        // 애니메이션 스타일 추가
        const styleSheet = document.createElement('style');
        styleSheet.textContent = `
                    @keyframes slideDown {
                        from { transform: translateX(-50%) translateY(-100%); }
                        to { transform: translateX(-50%) translateY(0); }
                    }
                `;
        document.head.appendChild(styleSheet);

        const messageP = document.createElement('p');
        messageP.textContent = message;
        messageP.style.margin = '0 0 10px 0';
        messageP.style.fontSize = '14px';

        const okButton = document.createElement('button');
        okButton.textContent = '확인';
        okButton.style.padding = '5px 15px';
        okButton.style.backgroundColor = '#8b0000';
        okButton.style.color = 'white';
        okButton.style.border = 'none';
        okButton.style.borderRadius = '3px';
        okButton.style.cursor = 'pointer';
        okButton.style.fontSize = '13px';

        const handleOk = () => {
          alertDiv.style.animation = 'slideUp 0.3s ease-out';
          setTimeout(() => {
            document.body.removeChild(alertDiv);
            if (callback) callback();
          }, 250);
        };

        // 슬라이드 업 애니메이션 추가
        styleSheet.textContent += `
                    @keyframes slideUp {
                        from { transform: translateX(-50%) translateY(0); }
                        to { transform: translateX(-50%) translateY(-100%); }
                    }
                `;

        okButton.onclick = handleOk;

        // 엔터 키 이벤트 리스너 추가
        const keyHandler = function (e) {
          if (e.key === 'Enter' && document.body.contains(alertDiv)) {
            handleOk();
            document.removeEventListener('keydown', keyHandler);
          }
        };
        document.addEventListener('keydown', keyHandler);

        alertDiv.appendChild(messageP);
        alertDiv.appendChild(okButton);
        document.body.appendChild(alertDiv);

        // 버튼에 포커스
        okButton.focus();
      }

      // 행적 저장 함수
      function saveModalActions() {
        const name = document.getElementById('modalName').textContent;
        const text = document.getElementById('modalActions').value.trim();

        if (!text) {
          showCustomAlert('내용을 입력해주세요.');
          return;
        }

        console.log('Attempting to save actions for:', name);

        // Firebase에 텍스트와 업데이트 시간 저장
        db.ref('actions/' + name).set(
          {
            text: text,
            lastUpdate: Date.now(),
          },
          (error) => {
            if (error) {
              console.error('Error saving actions:', error);
              showCustomAlert('행적 저장에 실패했습니다. 다시 시도해주세요.');
            } else {
              console.log('Data saved successfully');
              showCustomAlert('행적이 저장되었습니다.');

              // 저장 성공 후 즉시 UI 업데이트
              const modalActions = document.getElementById('modalActions');
              const modalActionsView = document.getElementById('modalActionsView');

              modalActions.style.display = 'none';
              modalActionsView.style.display = 'block';
              modalActionsView.innerHTML = formatActions(text);
            }
          }
        );
      }

      // 로그아웃 함수
      async function logoutAdmin() {
        try {
          await firebase.auth().signOut();
          isAdmin = false;
          currentUser = null;
          document.getElementById('adminLoginBtn').style.display = 'block';
          document.getElementById('saveBtn').style.display = 'none';
          document.getElementById('logoutBtn').style.display = 'none';
          document.getElementById('adminManageBtn').style.display = 'none';
          showCustomAlert('로그아웃되었습니다.');
        } catch (error) {
          console.error('Logout error:', error);
          showCustomAlert('로그아웃 중 오류가 발생했습니다.');
        }
      }

      // 관리자 승인 관리 관련 함수들
      async function loadAdminLists() {
        console.log('Loading admin lists...');
        const requestsRef = firebase.database().ref('adminRequests');
        const snapshot = await requestsRef.once('value');
        const requests = snapshot.val() || {};
        console.log('Loaded requests:', requests);

        // 승인 대기 중인 요청 목록
        const pendingList = document.getElementById('pendingList');
        if (!pendingList) {
          console.error('pendingList element not found');
          return;
        }
        pendingList.innerHTML = '';

        // 승인된 관리자 목록
        const approvedList = document.getElementById('approvedList');
        if (!approvedList) {
          console.error('approvedList element not found');
          return;
        }
        approvedList.innerHTML = '';

        let hasPending = false;
        let hasApproved = false;

        Object.entries(requests).forEach(([requestId, request]) => {
          console.log('Processing request:', requestId, request);

          const listItem = document.createElement('div');
          listItem.className = 'admin-list-item';

          const emailSpan = document.createElement('span');
          emailSpan.textContent = request.email;
          listItem.appendChild(emailSpan);

          const nicknameSpan = document.createElement('span');
          nicknameSpan.textContent = request.nickname || '';
          listItem.appendChild(nicknameSpan);

          const buttonContainer = document.createElement('div');
          buttonContainer.className = 'button-container';

          if (request.status === 'pending') {
            hasPending = true;
            // 승인 대기 중인 요청
            const approveBtn = document.createElement('button');
            approveBtn.textContent = '승인';
            approveBtn.onclick = () => approveAdmin(requestId);
            buttonContainer.appendChild(approveBtn);

            const rejectBtn = document.createElement('button');
            rejectBtn.textContent = '거절';
            rejectBtn.onclick = () => rejectAdmin(requestId);
            buttonContainer.appendChild(rejectBtn);

            listItem.appendChild(buttonContainer);
            pendingList.appendChild(listItem);
          } else if (request.status === 'approved') {
            hasApproved = true;
            // 이미 승인된 관리자
            const statusSpan = document.createElement('span');
            statusSpan.textContent = '승인됨';
            buttonContainer.appendChild(statusSpan);

            listItem.appendChild(buttonContainer);
            approvedList.appendChild(listItem);
          }
        });

        // 목록이 비어있을 때 메시지 표시
        if (!hasPending) {
          pendingList.innerHTML += '<div class="empty-message">승인 대기 중인 요청이 없습니다.</div>';
        }
        if (!hasApproved) {
          approvedList.innerHTML += '<div class="empty-message">승인된 관리자가 없습니다.</div>';
        }
      }

      // 관리자 승인
      async function approveAdmin(requestId) {
        try {
          const requestRef = firebase.database().ref('adminRequests/' + requestId);

          // 요청 상태 확인
          const snapshot = await requestRef.once('value');
          const request = snapshot.val();

          if (!request) {
            throw new Error('관리자 요청을 찾을 수 없습니다.');
          }

          if (request.status === 'approved') {
            throw new Error('이미 승인된 관리자입니다.');
          }

          // 관리자 요청 상태 업데이트
          await requestRef.update({
            status: 'approved',
            approvedAt: firebase.database.ServerValue.TIMESTAMP,
            approvedBy: currentUser.uid,
          });

          // 승인된 관리자 목록에 추가
          await firebase
            .database()
            .ref('admins/' + requestId)
            .set(true);

          showCustomAlert('관리자가 승인되었습니다.');
          loadAdminLists();
        } catch (error) {
          console.error('Error approving admin:', error);
          showCustomAlert('관리자 승인 중 오류가 발생했습니다: ' + error.message);
        }
      }

      // 관리자 거절
      async function rejectAdmin(requestId) {
        try {
          const requestRef = firebase.database().ref('adminRequests/' + requestId);

          // 요청 상태 확인
          const snapshot = await requestRef.once('value');
          const request = snapshot.val();

          if (!request) {
            throw new Error('관리자 요청을 찾을 수 없습니다.');
          }

          if (request.status === 'rejected') {
            throw new Error('이미 거절된 관리자입니다.');
          }

          // 요청을 데이터베이스에서 즉시 삭제
          await requestRef.remove();

          // admins 목록에서도 제거
          await firebase
            .database()
            .ref('admins/' + requestId)
            .remove();

          showCustomAlert('관리자 신청이 거절되었습니다.');
          loadAdminLists();
        } catch (error) {
          console.error('Error rejecting admin:', error);
          showCustomAlert('관리자 거절 중 오류가 발생했습니다: ' + error.message);
        }
      }

      // 관리자 등록 신청 모달 관련 함수들
      function showSignupModal() {
        const modal = document.getElementById('signupModal');
        modal.style.display = 'block';
        document.getElementById('adminModal').style.display = 'none'; // 로그인 모달 닫기
      }

      function closeSignupModal() {
        const modal = document.getElementById('signupModal');
        modal.style.display = 'none';
      }

      async function requestAdminSignup() {
        const email = document.getElementById('signupEmail').value;
        const password = document.getElementById('signupPassword').value;
        const confirmPassword = document.getElementById('signupPasswordConfirm').value;
        const nickname = document.getElementById('signupNickname').value;

        if (!email || !password || !confirmPassword || !nickname) {
          showCustomAlert('모든 필드를 입력해주세요.');
          return;
        }

        if (password !== confirmPassword) {
          showCustomAlert('비밀번호가 일치하지 않습니다.');
          return;
        }

        try {
          // Firebase Authentication으로 임시 로그인하여 이메일 중복 체크
          await firebase.auth().signInAnonymously();

          try {
            // 이미 등록된 이메일인지 확인
            const adminRequestsRef = firebase.database().ref('adminRequests');
            const emailQuery = adminRequestsRef.orderByChild('email').equalTo(email);
            const snapshot = await emailQuery.once('value');

            if (snapshot.exists()) {
              showCustomAlert('해당 이메일은 현재 승인 요청 중인 이메일 주소입니다.');
              return;
            }

            // 비밀번호 해시화 (임시로 base64 인코딩 사용)
            const hashedPassword = btoa(password);

            // Realtime Database에 관리자 신청 정보 저장
            const requestRef = firebase.database().ref('adminRequests').push();
            await requestRef.set({
              email: email,
              password: hashedPassword,
              nickname: nickname,
              status: 'pending',
              requestedAt: firebase.database.ServerValue.TIMESTAMP,
            });

            showCustomAlert('관리자 신청이 완료되었습니다. 승인을 기다려주세요.');

            // 모달 닫기
            document.getElementById('signupModal').style.display = 'none';

            // 입력 필드 초기화
            document.getElementById('signupEmail').value = '';
            document.getElementById('signupPassword').value = '';
            document.getElementById('confirmPassword').value = '';
            document.getElementById('signupNickname').value = '';
          } finally {
            // 임시 로그인 세션 종료
            await firebase.auth().signOut();
          }
        } catch (error) {
          console.error('Error registering admin:', error);
          showCustomAlert('등록 중 오류가 발생했습니다: ' + error.message);
        }
      }
    </script>

    <script>
      // 관리자 로그인 모달 닫기 함수
      function closeAdminLoginModal() {
        const modal = document.getElementById('adminModal');
        modal.style.display = 'none';

        // 입력 필드 초기화
        document.getElementById('adminEmail').value = '';
        document.getElementById('adminPassword').value = '';
      }
    </script>

    <script>
      // 관리자 승인 관리 모달 닫기 함수
      function closeAdminManageModal() {
        const modal = document.getElementById('adminManageModal');
        if (modal) {
          modal.style.display = 'none';
        }
      }
    </script>
  </body>
</html>
